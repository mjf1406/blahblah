import{c as V,r,j as t,e as K,i as Qo,d as N,h as et,B as U,l as fe}from"./index-bjD2Wxva.js";import{e as ne,f as Ge,u as me,P as F,h as _,t as ye,i as en,m as tn,o as on,p as nn,C as tt,s as sn,X as an,q as ot,r as nt,O as st,I as at,j as rn,D as ln,a as cn,b as dn,c as un,d as fn,v as mn,L as O,w as pn}from"./label-BfUWol79.js";import{c as rt,R as hn,A as xn,C as gn,f as bn,e as vn,a as it,u as we,b as lt,g as ct,d as dt}from"./index-CV-pcOgz.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],wn=V("chevron-left",yn);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jn=V("chevron-right",Sn);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nn=V("circle-question-mark",Cn);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Tn=V("circle",Rn);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],_n=V("dices",Mn);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 12h18",key:"1i2n21"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]],En=V("grid-2x2",In);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Pn=V("monitor",kn);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],An=V("mouse-pointer-2",Dn);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],Fn=V("move",On);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Gn=V("panel-left",Ln);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],zn=V("rotate-ccw",Bn);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Vn=V("zoom-in",$n);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Kn=V("zoom-out",Hn);var[Se,ar]=ne("Tooltip",[rt]),je=rt(),ut="TooltipProvider",qn=700,Ee="tooltip.open",[Un,Be]=Se(ut),ft=e=>{const{__scopeTooltip:o,delayDuration:n=qn,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:l}=e,i=r.useRef(!0),f=r.useRef(!1),d=r.useRef(0);return r.useEffect(()=>{const p=d.current;return()=>window.clearTimeout(p)},[]),t.jsx(Un,{scope:o,isOpenDelayedRef:i,delayDuration:n,onOpen:r.useCallback(()=>{window.clearTimeout(d.current),i.current=!1},[]),onClose:r.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>i.current=!0,s)},[s]),isPointerInTransitRef:f,onPointerInTransitChange:r.useCallback(p=>{f.current=p},[]),disableHoverableContent:a,children:l})};ft.displayName=ut;var ue="Tooltip",[Wn,pe]=Se(ue),mt=e=>{const{__scopeTooltip:o,children:n,open:s,defaultOpen:a,onOpenChange:l,disableHoverableContent:i,delayDuration:f}=e,d=Be(ue,e.__scopeTooltip),p=je(o),[c,u]=r.useState(null),x=Ge(),h=r.useRef(0),g=i??d.disableHoverableContent,w=f??d.delayDuration,m=r.useRef(!1),[y,S]=me({prop:s,defaultProp:a??!1,onChange:I=>{I?(d.onOpen(),document.dispatchEvent(new CustomEvent(Ee))):d.onClose(),l==null||l(I)},caller:ue}),b=r.useMemo(()=>y?m.current?"delayed-open":"instant-open":"closed",[y]),j=r.useCallback(()=>{window.clearTimeout(h.current),h.current=0,m.current=!1,S(!0)},[S]),R=r.useCallback(()=>{window.clearTimeout(h.current),h.current=0,S(!1)},[S]),P=r.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{m.current=!0,S(!0),h.current=0},w)},[w,S]);return r.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),t.jsx(hn,{...p,children:t.jsx(Wn,{scope:o,contentId:x,open:y,stateAttribute:b,trigger:c,onTriggerChange:u,onTriggerEnter:r.useCallback(()=>{d.isOpenDelayedRef.current?P():j()},[d.isOpenDelayedRef,P,j]),onTriggerLeave:r.useCallback(()=>{g?R():(window.clearTimeout(h.current),h.current=0)},[R,g]),onOpen:j,onClose:R,disableHoverableContent:g,children:n})})};mt.displayName=ue;var ke="TooltipTrigger",pt=r.forwardRef((e,o)=>{const{__scopeTooltip:n,...s}=e,a=pe(ke,n),l=Be(ke,n),i=je(n),f=r.useRef(null),d=K(o,f,a.onTriggerChange),p=r.useRef(!1),c=r.useRef(!1),u=r.useCallback(()=>p.current=!1,[]);return r.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),t.jsx(xn,{asChild:!0,...i,children:t.jsx(F.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:d,onPointerMove:_(e.onPointerMove,x=>{x.pointerType!=="touch"&&!c.current&&!l.isPointerInTransitRef.current&&(a.onTriggerEnter(),c.current=!0)}),onPointerLeave:_(e.onPointerLeave,()=>{a.onTriggerLeave(),c.current=!1}),onPointerDown:_(e.onPointerDown,()=>{a.open&&a.onClose(),p.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:_(e.onFocus,()=>{p.current||a.onOpen()}),onBlur:_(e.onBlur,a.onClose),onClick:_(e.onClick,a.onClose)})})});pt.displayName=ke;var ze="TooltipPortal",[Yn,Zn]=Se(ze,{forceMount:void 0}),ht=e=>{const{__scopeTooltip:o,forceMount:n,children:s,container:a}=e,l=pe(ze,o);return t.jsx(Yn,{scope:o,forceMount:n,children:t.jsx(ye,{present:n||l.open,children:t.jsx(en,{asChild:!0,container:a,children:s})})})};ht.displayName=ze;var te="TooltipContent",xt=r.forwardRef((e,o)=>{const n=Zn(te,e.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...l}=e,i=pe(te,e.__scopeTooltip);return t.jsx(ye,{present:s||i.open,children:i.disableHoverableContent?t.jsx(gt,{side:a,...l,ref:o}):t.jsx(Xn,{side:a,...l,ref:o})})}),Xn=r.forwardRef((e,o)=>{const n=pe(te,e.__scopeTooltip),s=Be(te,e.__scopeTooltip),a=r.useRef(null),l=K(o,a),[i,f]=r.useState(null),{trigger:d,onClose:p}=n,c=a.current,{onPointerInTransitChange:u}=s,x=r.useCallback(()=>{f(null),u(!1)},[u]),h=r.useCallback((g,w)=>{const m=g.currentTarget,y={x:g.clientX,y:g.clientY},S=os(y,m.getBoundingClientRect()),b=ns(y,S),j=ss(w.getBoundingClientRect()),R=rs([...b,...j]);f(R),u(!0)},[u]);return r.useEffect(()=>()=>x(),[x]),r.useEffect(()=>{if(d&&c){const g=m=>h(m,c),w=m=>h(m,d);return d.addEventListener("pointerleave",g),c.addEventListener("pointerleave",w),()=>{d.removeEventListener("pointerleave",g),c.removeEventListener("pointerleave",w)}}},[d,c,h,x]),r.useEffect(()=>{if(i){const g=w=>{const m=w.target,y={x:w.clientX,y:w.clientY},S=(d==null?void 0:d.contains(m))||(c==null?void 0:c.contains(m)),b=!as(y,i);S?x():b&&(x(),p())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[d,c,i,p,x]),t.jsx(gt,{...e,ref:l})}),[Jn,Qn]=Se(ue,{isInside:!1}),es=Qo("TooltipContent"),gt=r.forwardRef((e,o)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:l,onPointerDownOutside:i,...f}=e,d=pe(te,n),p=je(n),{onClose:c}=d;return r.useEffect(()=>(document.addEventListener(Ee,c),()=>document.removeEventListener(Ee,c)),[c]),r.useEffect(()=>{if(d.trigger){const u=x=>{const h=x.target;h!=null&&h.contains(d.trigger)&&c()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[d.trigger,c]),t.jsx(tn,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:u=>u.preventDefault(),onDismiss:c,children:t.jsxs(gn,{"data-state":d.stateAttribute,...p,...f,ref:o,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[t.jsx(es,{children:s}),t.jsx(Jn,{scope:n,isInside:!0,children:t.jsx(bn,{id:d.contentId,role:"tooltip",children:a||s})})]})})});xt.displayName=te;var bt="TooltipArrow",ts=r.forwardRef((e,o)=>{const{__scopeTooltip:n,...s}=e,a=je(n);return Qn(bt,n).isInside?null:t.jsx(vn,{...a,...s,ref:o})});ts.displayName=bt;function os(e,o){const n=Math.abs(o.top-e.y),s=Math.abs(o.bottom-e.y),a=Math.abs(o.right-e.x),l=Math.abs(o.left-e.x);switch(Math.min(n,s,a,l)){case l:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function ns(e,o,n=5){const s=[];switch(o){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function ss(e){const{top:o,right:n,bottom:s,left:a}=e;return[{x:a,y:o},{x:n,y:o},{x:n,y:s},{x:a,y:s}]}function as(e,o){const{x:n,y:s}=e;let a=!1;for(let l=0,i=o.length-1;l<o.length;i=l++){const f=o[l],d=o[i],p=f.x,c=f.y,u=d.x,x=d.y;c>s!=x>s&&n<(u-p)*(s-c)/(x-c)+p&&(a=!a)}return a}function rs(e){const o=e.slice();return o.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),is(o)}function is(e){if(e.length<=1)return e.slice();const o=[];for(let s=0;s<e.length;s++){const a=e[s];for(;o.length>=2;){const l=o[o.length-1],i=o[o.length-2];if((l.x-i.x)*(a.y-i.y)>=(l.y-i.y)*(a.x-i.x))o.pop();else break}o.push(a)}o.pop();const n=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;n.length>=2;){const l=n[n.length-1],i=n[n.length-2];if((l.x-i.x)*(a.y-i.y)>=(l.y-i.y)*(a.x-i.x))n.pop();else break}n.push(a)}return n.pop(),o.length===1&&n.length===1&&o[0].x===n[0].x&&o[0].y===n[0].y?o:o.concat(n)}var ls=ft,cs=mt,ds=pt,us=ht,vt=xt;const Ce=ls,ce=cs,de=ds,ee=r.forwardRef(({className:e,sideOffset:o=4,...n},s)=>t.jsx(us,{children:t.jsx(vt,{ref:s,sideOffset:o,className:N("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));ee.displayName=vt.displayName;const _e=768;function fs(){const[e,o]=r.useState(void 0);return r.useEffect(()=>{const n=window.matchMedia(`(max-width: ${_e-1}px)`),s=()=>{o(window.innerWidth<_e)};return n.addEventListener("change",s),o(window.innerWidth<_e),()=>n.removeEventListener("change",s)},[]),!!e}var ms="Separator",Ue="horizontal",ps=["horizontal","vertical"],yt=r.forwardRef((e,o)=>{const{decorative:n,orientation:s=Ue,...a}=e,l=hs(s)?s:Ue,f=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return t.jsx(F.div,{"data-orientation":l,...f,...a,ref:o})});yt.displayName=ms;function hs(e){return ps.includes(e)}var wt=yt;const ve=r.forwardRef(({className:e,orientation:o="horizontal",decorative:n=!0,...s},a)=>t.jsx(wt,{ref:a,decorative:n,orientation:o,className:N("shrink-0 bg-border",o==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));ve.displayName=wt.displayName;const xs=on,gs=nn,St=r.forwardRef(({className:e,...o},n)=>t.jsx(st,{className:N("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...o,ref:n}));St.displayName=st.displayName;const bs=et("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),jt=r.forwardRef(({side:e="right",className:o,children:n,...s},a)=>t.jsxs(gs,{children:[t.jsx(St,{}),t.jsxs(tt,{ref:a,className:N(bs({side:e}),o),...s,children:[t.jsxs(sn,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[t.jsx(an,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));jt.displayName=tt.displayName;const Ct=({className:e,...o})=>t.jsx("div",{className:N("flex flex-col space-y-2 text-center sm:text-left",e),...o});Ct.displayName="SheetHeader";const Nt=r.forwardRef(({className:e,...o},n)=>t.jsx(ot,{ref:n,className:N("text-lg font-semibold text-foreground",e),...o}));Nt.displayName=ot.displayName;const Rt=r.forwardRef(({className:e,...o},n)=>t.jsx(nt,{ref:n,className:N("text-sm text-muted-foreground",e),...o}));Rt.displayName=nt.displayName;function We({className:e,...o}){return t.jsx("div",{className:N("animate-pulse rounded-md bg-primary/10",e),...o})}const vs="sidebar_state",ys=60*60*24*7,ws="16rem",Ss="18rem",js="3rem",Cs="b",Tt=r.createContext(null);function he(){const e=r.useContext(Tt);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const Mt=r.forwardRef(({defaultOpen:e=!0,open:o,onOpenChange:n,className:s,style:a,children:l,...i},f)=>{const d=fs(),[p,c]=r.useState(!1),[u,x]=r.useState(e),h=o??u,g=r.useCallback(S=>{const b=typeof S=="function"?S(h):S;n?n(b):x(b),document.cookie=`${vs}=${b}; path=/; max-age=${ys}`},[n,h]),w=r.useCallback(()=>d?c(S=>!S):g(S=>!S),[d,g,c]);r.useEffect(()=>{const S=b=>{b.key===Cs&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),w())};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[w]);const m=h?"expanded":"collapsed",y=r.useMemo(()=>({state:m,open:h,setOpen:g,isMobile:d,openMobile:p,setOpenMobile:c,toggleSidebar:w}),[m,h,g,d,p,c,w]);return t.jsx(Tt.Provider,{value:y,children:t.jsx(Ce,{delayDuration:0,children:t.jsx("div",{style:{"--sidebar-width":ws,"--sidebar-width-icon":js,...a},className:N("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",s),ref:f,...i,children:l})})})});Mt.displayName="SidebarProvider";const _t=r.forwardRef(({side:e="left",variant:o="sidebar",collapsible:n="offcanvas",className:s,children:a,...l},i)=>{const{isMobile:f,state:d,openMobile:p,setOpenMobile:c}=he();return n==="none"?t.jsx("div",{className:N("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",s),ref:i,...l,children:a}):f?t.jsx(xs,{open:p,onOpenChange:c,...l,children:t.jsxs(jt,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Ss},side:e,children:[t.jsxs(Ct,{className:"sr-only",children:[t.jsx(Nt,{children:"Sidebar"}),t.jsx(Rt,{children:"Displays the mobile sidebar."})]}),t.jsx("div",{className:"flex flex-col w-full h-full",children:a})]})}):t.jsxs("div",{ref:i,className:"hidden group peer text-sidebar-foreground md:block","data-state":d,"data-collapsible":d==="collapsed"?n:"","data-variant":o,"data-side":e,children:[t.jsx("div",{className:N("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",o==="floating"||o==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),t.jsx("div",{className:N("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",o==="floating"||o==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...l,children:t.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});_t.displayName="Sidebar";const Ns=r.forwardRef(({className:e,onClick:o,...n},s)=>{const{toggleSidebar:a}=he();return t.jsxs(U,{ref:s,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:N("h-7 w-7",e),onClick:l=>{o==null||o(l),a()},...n,children:[t.jsx(Gn,{}),t.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Ns.displayName="SidebarTrigger";const Rs=r.forwardRef(({className:e,...o},n)=>{const{toggleSidebar:s}=he();return t.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:s,title:"Toggle Sidebar",className:N("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...o})});Rs.displayName="SidebarRail";const Ts=r.forwardRef(({className:e,...o},n)=>t.jsx("main",{ref:n,className:N("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...o}));Ts.displayName="SidebarInset";const Ms=r.forwardRef(({className:e,...o},n)=>t.jsx(at,{ref:n,"data-sidebar":"input",className:N("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...o}));Ms.displayName="SidebarInput";const It=r.forwardRef(({className:e,...o},n)=>t.jsx("div",{ref:n,"data-sidebar":"header",className:N("flex flex-col gap-2 p-2",e),...o}));It.displayName="SidebarHeader";const _s=r.forwardRef(({className:e,...o},n)=>t.jsx("div",{ref:n,"data-sidebar":"footer",className:N("flex flex-col gap-2 p-2",e),...o}));_s.displayName="SidebarFooter";const Is=r.forwardRef(({className:e,...o},n)=>t.jsx(ve,{ref:n,"data-sidebar":"separator",className:N("mx-2 w-auto bg-sidebar-border",e),...o}));Is.displayName="SidebarSeparator";const Et=r.forwardRef(({className:e,...o},n)=>t.jsx("div",{ref:n,"data-sidebar":"content",className:N("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...o}));Et.displayName="SidebarContent";const Es=r.forwardRef(({className:e,...o},n)=>t.jsx("div",{ref:n,"data-sidebar":"group",className:N("relative flex w-full min-w-0 flex-col p-2",e),...o}));Es.displayName="SidebarGroup";const ks=r.forwardRef(({className:e,asChild:o=!1,...n},s)=>{const a=o?fe:"div";return t.jsx(a,{ref:s,"data-sidebar":"group-label",className:N("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});ks.displayName="SidebarGroupLabel";const Ps=r.forwardRef(({className:e,asChild:o=!1,...n},s)=>{const a=o?fe:"button";return t.jsx(a,{ref:s,"data-sidebar":"group-action",className:N("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});Ps.displayName="SidebarGroupAction";const Ds=r.forwardRef(({className:e,...o},n)=>t.jsx("div",{ref:n,"data-sidebar":"group-content",className:N("w-full text-sm",e),...o}));Ds.displayName="SidebarGroupContent";const As=r.forwardRef(({className:e,...o},n)=>t.jsx("ul",{ref:n,"data-sidebar":"menu",className:N("flex w-full min-w-0 flex-col gap-1",e),...o}));As.displayName="SidebarMenu";const Os=r.forwardRef(({className:e,...o},n)=>t.jsx("li",{ref:n,"data-sidebar":"menu-item",className:N("group/menu-item relative",e),...o}));Os.displayName="SidebarMenuItem";const Fs=et("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Ls=r.forwardRef(({asChild:e=!1,isActive:o=!1,variant:n="default",size:s="default",tooltip:a,className:l,...i},f)=>{const d=e?fe:"button",{isMobile:p,state:c}=he(),u=t.jsx(d,{ref:f,"data-sidebar":"menu-button","data-size":s,"data-active":o,className:N(Fs({variant:n,size:s}),l),...i});return a?(typeof a=="string"&&(a={children:a}),t.jsxs(ce,{children:[t.jsx(de,{asChild:!0,children:u}),t.jsx(ee,{side:"right",align:"center",hidden:c!=="collapsed"||p,...a})]})):u});Ls.displayName="SidebarMenuButton";const Gs=r.forwardRef(({className:e,asChild:o=!1,showOnHover:n=!1,...s},a)=>{const l=o?fe:"button";return t.jsx(l,{ref:a,"data-sidebar":"menu-action",className:N("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...s})});Gs.displayName="SidebarMenuAction";const Bs=r.forwardRef(({className:e,...o},n)=>t.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:N("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...o}));Bs.displayName="SidebarMenuBadge";const zs=r.forwardRef(({className:e,showIcon:o=!1,...n},s)=>{const a=r.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return t.jsxs("div",{ref:s,"data-sidebar":"menu-skeleton",className:N("flex h-8 items-center gap-2 rounded-md px-2",e),...n,children:[o&&t.jsx(We,{className:"rounded-md size-4","data-sidebar":"menu-skeleton-icon"}),t.jsx(We,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});zs.displayName="SidebarMenuSkeleton";const $s=r.forwardRef(({className:e,...o},n)=>t.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:N("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...o}));$s.displayName="SidebarMenuSub";const Vs=r.forwardRef(({...e},o)=>t.jsx("li",{ref:o,...e}));Vs.displayName="SidebarMenuSubItem";const Hs=r.forwardRef(({asChild:e=!1,size:o="md",isActive:n,className:s,...a},l)=>{const i=e?fe:"a";return t.jsx(i,{ref:l,"data-sidebar":"menu-sub-button","data-size":o,"data-active":n,className:N("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",o==="sm"&&"text-xs",o==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",s),...a})});Hs.displayName="SidebarMenuSubButton";var Ie="rovingFocusGroup.onEntryFocus",Ks={bubbles:!1,cancelable:!0},xe="RovingFocusGroup",[Pe,kt,qs]=it(xe),[Us,Ne]=ne(xe,[qs]),[Ws,Ys]=Us(xe),Pt=r.forwardRef((e,o)=>t.jsx(Pe.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Pe.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Zs,{...e,ref:o})})}));Pt.displayName=xe;var Zs=r.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:l,currentTabStopId:i,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:d,onEntryFocus:p,preventScrollOnEntryFocus:c=!1,...u}=e,x=r.useRef(null),h=K(o,x),g=we(l),[w,m]=me({prop:i,defaultProp:f??null,onChange:d,caller:xe}),[y,S]=r.useState(!1),b=rn(p),j=kt(n),R=r.useRef(!1),[P,I]=r.useState(0);return r.useEffect(()=>{const T=x.current;if(T)return T.addEventListener(Ie,b),()=>T.removeEventListener(Ie,b)},[b]),t.jsx(Ws,{scope:n,orientation:s,dir:g,loop:a,currentTabStopId:w,onItemFocus:r.useCallback(T=>m(T),[m]),onItemShiftTab:r.useCallback(()=>S(!0),[]),onFocusableItemAdd:r.useCallback(()=>I(T=>T+1),[]),onFocusableItemRemove:r.useCallback(()=>I(T=>T-1),[]),children:t.jsx(F.div,{tabIndex:y||P===0?-1:0,"data-orientation":s,...u,ref:h,style:{outline:"none",...e.style},onMouseDown:_(e.onMouseDown,()=>{R.current=!0}),onFocus:_(e.onFocus,T=>{const H=!R.current;if(T.target===T.currentTarget&&H&&!y){const L=new CustomEvent(Ie,Ks);if(T.currentTarget.dispatchEvent(L),!L.defaultPrevented){const M=j().filter(D=>D.focusable),B=M.find(D=>D.active),G=M.find(D=>D.id===w),k=[B,G,...M].filter(Boolean).map(D=>D.ref.current);Ot(k,c)}}R.current=!1}),onBlur:_(e.onBlur,()=>S(!1))})})}),Dt="RovingFocusGroupItem",At=r.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:l,children:i,...f}=e,d=Ge(),p=l||d,c=Ys(Dt,n),u=c.currentTabStopId===p,x=kt(n),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:w}=c;return r.useEffect(()=>{if(s)return h(),()=>g()},[s,h,g]),t.jsx(Pe.ItemSlot,{scope:n,id:p,focusable:s,active:a,children:t.jsx(F.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...f,ref:o,onMouseDown:_(e.onMouseDown,m=>{s?c.onItemFocus(p):m.preventDefault()}),onFocus:_(e.onFocus,()=>c.onItemFocus(p)),onKeyDown:_(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){c.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const y=Qs(m,c.orientation,c.dir);if(y!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let b=x().filter(j=>j.focusable).map(j=>j.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const j=b.indexOf(m.currentTarget);b=c.loop?ea(b,j+1):b.slice(j+1)}setTimeout(()=>Ot(b))}}),children:typeof i=="function"?i({isCurrentTabStop:u,hasTabStop:w!=null}):i})})});At.displayName=Dt;var Xs={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Js(e,o){return o!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Qs(e,o,n){const s=Js(e.key,n);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Xs[s]}function Ot(e,o=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:o}),document.activeElement!==n))return}function ea(e,o){return e.map((n,s)=>e[(o+s)%e.length])}var Ft=Pt,Lt=At,$e="Radio",[ta,Gt]=ne($e),[oa,na]=ta($e),Bt=r.forwardRef((e,o)=>{const{__scopeRadio:n,name:s,checked:a=!1,required:l,disabled:i,value:f="on",onCheck:d,form:p,...c}=e,[u,x]=r.useState(null),h=K(o,m=>x(m)),g=r.useRef(!1),w=u?p||!!u.closest("form"):!0;return t.jsxs(oa,{scope:n,checked:a,disabled:i,children:[t.jsx(F.button,{type:"button",role:"radio","aria-checked":a,"data-state":Ht(a),"data-disabled":i?"":void 0,disabled:i,value:f,...c,ref:h,onClick:_(e.onClick,m=>{a||d==null||d(),w&&(g.current=m.isPropagationStopped(),g.current||m.stopPropagation())})}),w&&t.jsx(Vt,{control:u,bubbles:!g.current,name:s,value:f,checked:a,required:l,disabled:i,form:p,style:{transform:"translateX(-100%)"}})]})});Bt.displayName=$e;var zt="RadioIndicator",$t=r.forwardRef((e,o)=>{const{__scopeRadio:n,forceMount:s,...a}=e,l=na(zt,n);return t.jsx(ye,{present:s||l.checked,children:t.jsx(F.span,{"data-state":Ht(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:o})})});$t.displayName=zt;var sa="RadioBubbleInput",Vt=r.forwardRef(({__scopeRadio:e,control:o,checked:n,bubbles:s=!0,...a},l)=>{const i=r.useRef(null),f=K(i,l),d=lt(n),p=ct(o);return r.useEffect(()=>{const c=i.current;if(!c)return;const u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(d!==n&&h){const g=new Event("click",{bubbles:s});h.call(c,n),c.dispatchEvent(g)}},[d,n,s]),t.jsx(F.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:f,style:{...a.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Vt.displayName=sa;function Ht(e){return e?"checked":"unchecked"}var aa=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Re="RadioGroup",[ra,rr]=ne(Re,[Ne,Gt]),Kt=Ne(),qt=Gt(),[ia,la]=ra(Re),Ut=r.forwardRef((e,o)=>{const{__scopeRadioGroup:n,name:s,defaultValue:a,value:l,required:i=!1,disabled:f=!1,orientation:d,dir:p,loop:c=!0,onValueChange:u,...x}=e,h=Kt(n),g=we(p),[w,m]=me({prop:l,defaultProp:a??null,onChange:u,caller:Re});return t.jsx(ia,{scope:n,name:s,required:i,disabled:f,value:w,onValueChange:m,children:t.jsx(Ft,{asChild:!0,...h,orientation:d,dir:g,loop:c,children:t.jsx(F.div,{role:"radiogroup","aria-required":i,"aria-orientation":d,"data-disabled":f?"":void 0,dir:g,...x,ref:o})})})});Ut.displayName=Re;var Wt="RadioGroupItem",Yt=r.forwardRef((e,o)=>{const{__scopeRadioGroup:n,disabled:s,...a}=e,l=la(Wt,n),i=l.disabled||s,f=Kt(n),d=qt(n),p=r.useRef(null),c=K(o,p),u=l.value===a.value,x=r.useRef(!1);return r.useEffect(()=>{const h=w=>{aa.includes(w.key)&&(x.current=!0)},g=()=>x.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",g)}},[]),t.jsx(Lt,{asChild:!0,...f,focusable:!i,active:u,children:t.jsx(Bt,{disabled:i,required:l.required,checked:u,...d,...a,name:l.name,ref:c,onCheck:()=>l.onValueChange(a.value),onKeyDown:_(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:_(a.onFocus,()=>{var h;x.current&&((h=p.current)==null||h.click())})})})});Yt.displayName=Wt;var ca="RadioGroupIndicator",Zt=r.forwardRef((e,o)=>{const{__scopeRadioGroup:n,...s}=e,a=qt(n);return t.jsx($t,{...a,...s,ref:o})});Zt.displayName=ca;var Xt=Ut,Jt=Yt,da=Zt;const le=r.forwardRef(({className:e,...o},n)=>t.jsx(Xt,{className:N("grid gap-2",e),...o,ref:n}));le.displayName=Xt.displayName;const J=r.forwardRef(({className:e,...o},n)=>t.jsx(Jt,{ref:n,className:N("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...o,children:t.jsx(da,{className:"flex items-center justify-center",children:t.jsx(Tn,{className:"h-3.5 w-3.5 fill-primary"})})}));J.displayName=Jt.displayName;const Qt="gridConfigs",Q={square:{cols:20,rows:20,tileSize:30,ppi:80,borderWidth:1,borderColor:"#000000"},"hex-flat":{cols:30,rows:25,tileSize:30,ppi:80,borderWidth:1,borderColor:"#000000"},"hex-pointy":{cols:25,rows:30,tileSize:30,ppi:80,borderWidth:1,borderColor:"#000000"}},eo=(e,o)=>{try{const s={...to(),[e]:o};localStorage.setItem(Qt,JSON.stringify(s))}catch(n){console.warn("Failed to save grid config:",n)}},De=e=>{try{return to()[e]||Q[e]}catch(o){return console.warn("Failed to load grid config:",o),Q[e]}},to=()=>{try{const e=localStorage.getItem(Qt);if(e){const o=JSON.parse(e);return{square:{...Q.square,...o.square},"hex-flat":{...Q["hex-flat"],...o["hex-flat"]},"hex-pointy":{...Q["hex-pointy"],...o["hex-pointy"]}}}}catch(e){console.warn("Failed to parse stored configs:",e)}return Q},be=e=>e==="square"?"square":e.includes("flat")?"hex-flat":"hex-pointy",ua=[{label:'24"',inches:24},{label:'27"',inches:27},{label:'32"',inches:32},{label:'43"',inches:43},{label:'50"',inches:50},{label:'55"',inches:55},{label:'65"',inches:65},{label:'75"',inches:75},{label:'85"',inches:85}],fa=[{label:"61cm",inches:24},{label:"69cm",inches:27},{label:"81cm",inches:32},{label:"109cm",inches:43},{label:"127cm",inches:50},{label:"140cm",inches:55},{label:"165cm",inches:65},{label:"191cm",inches:75},{label:"216cm",inches:85}],Ye=[{label:"1080p",width:1920,height:1080},{label:"1440p",width:2560,height:1440},{label:"4K",width:3840,height:2160},{label:"8K",width:7680,height:4320}],Ze=[{label:"1 inch tiles",inches:1},{label:"2cm tiles",inches:.787}],ma=({currentGridType:e,onPresetSelect:o})=>{const[n,s]=r.useState(!1),[a,l]=r.useState("inches"),[i,f]=r.useState("55"),[d,p]=r.useState("4K"),[c,u]=r.useState("1 inch tiles"),x=()=>{const m=parseFloat(i),y=Ye.find(b=>b.label===d),S=Ze.find(b=>b.label===c).inches;return{tvSize:m,resolution:y,tileSize:S}},h=(m,y,S,b)=>{let j,R;switch(b){case"square":j=Math.floor(m/S),R=Math.floor(y/S);break;case"hex-flat":j=Math.floor(m/S*1.3),R=Math.floor(y/S*1.15);break;case"hex-pointy":j=Math.floor(m/S*1.15),R=Math.floor(y/S*1.3);break}return{cols:j,rows:R}},g=()=>{const m=x(),y=Math.sqrt(m.resolution.width**2+m.resolution.height**2),S=Math.floor(y/m.tvSize),b=m.resolution.width/S,j=m.resolution.height/S,R=Math.round(m.tileSize*S),P=`${m.tvSize}" ${d} (${c})`;["square","hex-flat","hex-pointy"].forEach(M=>{const{cols:B,rows:G}=h(b,j,m.tileSize,M),q=De(M),k={cols:B,rows:G,tileSize:R,ppi:S,borderWidth:q.borderWidth,borderColor:q.borderColor};eo(M,k)});const T=be(e),{cols:H,rows:L}=h(b,j,m.tileSize,T);o({ppi:S,tileSize:R,cols:H,rows:L,displayName:P}),s(!1)},w=a==="inches"?ua:fa;return t.jsx("div",{className:"space-y-3",children:t.jsx(Ce,{delayDuration:0,children:t.jsxs(ln,{open:n,onOpenChange:s,children:[t.jsxs(ce,{children:[t.jsx(de,{asChild:!0,children:t.jsx(cn,{asChild:!0,children:t.jsx(U,{variant:"outline",size:"icon",children:t.jsx(Pn,{})})})}),t.jsx(ee,{children:t.jsx("p",{children:"Configure Display Preset"})})]}),t.jsxs(dn,{className:"max-w-md",children:[t.jsxs(un,{children:[t.jsx(fn,{children:"Configure Display Preset"}),t.jsx(mn,{children:"Set up your display to create optimized maps for all grid types. This will calculate and save configurations for square, hex-flat, and hex-pointy grids."})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx(O,{className:"text-sm font-medium",children:"Measurement Unit"}),t.jsxs(le,{value:a,onValueChange:m=>{l(m),f(m==="inches"?"55":"140cm")},className:"flex space-x-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(J,{value:"inches",id:"inches"}),t.jsx(O,{htmlFor:"inches",className:"text-sm",children:"Inches"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(J,{value:"cm",id:"cm"}),t.jsx(O,{htmlFor:"cm",className:"text-sm",children:"Centimeters"})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(O,{className:"text-sm font-medium",children:"TV/Monitor Size"}),t.jsx(le,{value:i,onValueChange:f,className:"grid grid-cols-3 gap-2",children:w.map(m=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(J,{value:m.inches.toString(),id:m.label}),t.jsx(O,{htmlFor:m.label,className:"text-sm",children:m.label})]},m.label))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(O,{className:"text-sm font-medium",children:"Resolution"}),t.jsx(le,{value:d,onValueChange:p,className:"grid grid-cols-2 gap-2",children:Ye.map(m=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(J,{value:m.label,id:m.label}),t.jsxs(O,{htmlFor:m.label,className:"text-sm",children:[m.label,t.jsxs("span",{className:"block text-xs text-muted-foreground",children:[m.width,"×",m.height]})]})]},m.label))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(O,{className:"text-sm font-medium",children:"Tile Size"}),t.jsx(le,{value:c,onValueChange:u,className:"space-y-2",children:Ze.map(m=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(J,{value:m.label,id:m.label}),t.jsx(O,{htmlFor:m.label,className:"text-sm",children:m.label})]},m.label))})]})]}),t.jsxs(pn,{children:[t.jsx(U,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),t.jsx(U,{onClick:g,children:"Apply Preset"})]})]})]})})})};var Te="Tabs",[pa,ir]=ne(Te,[Ne]),oo=Ne(),[ha,Ve]=pa(Te),no=r.forwardRef((e,o)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:l,orientation:i="horizontal",dir:f,activationMode:d="automatic",...p}=e,c=we(f),[u,x]=me({prop:s,onChange:a,defaultProp:l??"",caller:Te});return t.jsx(ha,{scope:n,baseId:Ge(),value:u,onValueChange:x,orientation:i,dir:c,activationMode:d,children:t.jsx(F.div,{dir:c,"data-orientation":i,...p,ref:o})})});no.displayName=Te;var so="TabsList",ao=r.forwardRef((e,o)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,l=Ve(so,n),i=oo(n);return t.jsx(Ft,{asChild:!0,...i,orientation:l.orientation,dir:l.dir,loop:s,children:t.jsx(F.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:o})})});ao.displayName=so;var ro="TabsTrigger",io=r.forwardRef((e,o)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...l}=e,i=Ve(ro,n),f=oo(n),d=uo(i.baseId,s),p=fo(i.baseId,s),c=s===i.value;return t.jsx(Lt,{asChild:!0,...f,focusable:!a,active:c,children:t.jsx(F.button,{type:"button",role:"tab","aria-selected":c,"aria-controls":p,"data-state":c?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...l,ref:o,onMouseDown:_(e.onMouseDown,u=>{!a&&u.button===0&&u.ctrlKey===!1?i.onValueChange(s):u.preventDefault()}),onKeyDown:_(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&i.onValueChange(s)}),onFocus:_(e.onFocus,()=>{const u=i.activationMode!=="manual";!c&&!a&&u&&i.onValueChange(s)})})})});io.displayName=ro;var lo="TabsContent",co=r.forwardRef((e,o)=>{const{__scopeTabs:n,value:s,forceMount:a,children:l,...i}=e,f=Ve(lo,n),d=uo(f.baseId,s),p=fo(f.baseId,s),c=s===f.value,u=r.useRef(c);return r.useEffect(()=>{const x=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(x)},[]),t.jsx(ye,{present:a||c,children:({present:x})=>t.jsx(F.div,{"data-state":c?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":d,hidden:!x,id:p,tabIndex:0,...i,ref:o,style:{...e.style,animationDuration:u.current?"0s":void 0},children:x&&l})})});co.displayName=lo;function uo(e,o){return`${e}-trigger-${o}`}function fo(e,o){return`${e}-content-${o}`}var xa=no,mo=ao,po=io,ho=co;const ga=xa,xo=r.forwardRef(({className:e,...o},n)=>t.jsx(mo,{ref:n,className:N("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...o}));xo.displayName=mo.displayName;const go=r.forwardRef(({className:e,...o},n)=>t.jsx(po,{ref:n,className:N("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...o}));go.displayName=po.displayName;const ba=r.forwardRef(({className:e,...o},n)=>t.jsx(ho,{ref:n,className:N("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...o}));ba.displayName=ho.displayName;const va=[{value:"square",icon:En,label:"Square"},{value:"hex-flat-odd",imageSrc:"/assets/img/hex-flat-odd.svg",label:"Flat Odd"},{value:"hex-flat-even",imageSrc:"/assets/img/hex-flat-even.svg",label:"Flat Even"},{value:"hex-pointy-odd",imageSrc:"/assets/img/hex-pointy-odd.svg",label:"Pointy Odd"},{value:"hex-pointy-even",imageSrc:"/assets/img/hex-pointy-even.svg",label:"Pointy Even"}],ya=({gridType:e,onGridTypeChange:o})=>t.jsxs("div",{className:"space-y-3",children:[t.jsx(O,{className:"text-sm font-medium",children:"Grid Type"}),t.jsx(ga,{value:e,onValueChange:n=>o(n),className:"w-full",children:t.jsx(xo,{className:"w-full gap-1 p-1",children:va.map(n=>t.jsx(go,{value:n.value,className:"flex items-center justify-center gap-2 px-3 py-2 h-auto text-xs data-[state=active]:bg-primary data-[state=active]:text-primary-foreground w-full",children:"icon"in n?t.jsx(n.icon,{className:"flex-shrink-0 w-5 h-5"}):t.jsx("img",{src:n.imageSrc,alt:n.label,className:`flex-shrink-0 w-6 h-6 transition-all duration-200 ${e===n.value?"invert":""}`})},n.value))})})]});var bo=["PageUp","PageDown"],vo=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],yo={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},se="Slider",[Ae,wa,Sa]=it(se),[wo,lr]=ne(se,[Sa]),[ja,Me]=wo(se),So=r.forwardRef((e,o)=>{const{name:n,min:s=0,max:a=100,step:l=1,orientation:i="horizontal",disabled:f=!1,minStepsBetweenThumbs:d=0,defaultValue:p=[s],value:c,onValueChange:u=()=>{},onValueCommit:x=()=>{},inverted:h=!1,form:g,...w}=e,m=r.useRef(new Set),y=r.useRef(0),b=i==="horizontal"?Ca:Na,[j=[],R]=me({prop:c,defaultProp:p,onChange:M=>{var G;(G=[...m.current][y.current])==null||G.focus(),u(M)}}),P=r.useRef(j);function I(M){const B=Ia(j,M);L(M,B)}function T(M){L(M,y.current)}function H(){const M=P.current[y.current];j[y.current]!==M&&x(j)}function L(M,B,{commit:G}={commit:!1}){const q=Da(l),k=Aa(Math.round((M-s)/l)*l+s,q),D=dt(k,[s,a]);R((W=[])=>{const z=Ma(W,D,B);if(Pa(z,d*l)){y.current=z.indexOf(D);const Y=String(z)!==String(W);return Y&&G&&x(z),Y?z:W}else return W})}return t.jsx(ja,{scope:e.__scopeSlider,name:n,disabled:f,min:s,max:a,valueIndexToChangeRef:y,thumbs:m.current,values:j,orientation:i,form:g,children:t.jsx(Ae.Provider,{scope:e.__scopeSlider,children:t.jsx(Ae.Slot,{scope:e.__scopeSlider,children:t.jsx(b,{"aria-disabled":f,"data-disabled":f?"":void 0,...w,ref:o,onPointerDown:_(w.onPointerDown,()=>{f||(P.current=j)}),min:s,max:a,inverted:h,onSlideStart:f?void 0:I,onSlideMove:f?void 0:T,onSlideEnd:f?void 0:H,onHomeKeyDown:()=>!f&&L(s,0,{commit:!0}),onEndKeyDown:()=>!f&&L(a,j.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:B})=>{if(!f){const k=bo.includes(M.key)||M.shiftKey&&vo.includes(M.key)?10:1,D=y.current,W=j[D],z=l*k*B;L(W+z,D,{commit:!0})}}})})})})});So.displayName=se;var[jo,Co]=wo(se,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ca=r.forwardRef((e,o)=>{const{min:n,max:s,dir:a,inverted:l,onSlideStart:i,onSlideMove:f,onSlideEnd:d,onStepKeyDown:p,...c}=e,[u,x]=r.useState(null),h=K(o,b=>x(b)),g=r.useRef(void 0),w=we(a),m=w==="ltr",y=m&&!l||!m&&l;function S(b){const j=g.current||u.getBoundingClientRect(),R=[0,j.width],I=He(R,y?[n,s]:[s,n]);return g.current=j,I(b-j.left)}return t.jsx(jo,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:t.jsx(No,{dir:w,"data-orientation":"horizontal",...c,ref:h,style:{...c.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const j=S(b.clientX);i==null||i(j)},onSlideMove:b=>{const j=S(b.clientX);f==null||f(j)},onSlideEnd:()=>{g.current=void 0,d==null||d()},onStepKeyDown:b=>{const R=yo[y?"from-left":"from-right"].includes(b.key);p==null||p({event:b,direction:R?-1:1})}})})}),Na=r.forwardRef((e,o)=>{const{min:n,max:s,inverted:a,onSlideStart:l,onSlideMove:i,onSlideEnd:f,onStepKeyDown:d,...p}=e,c=r.useRef(null),u=K(o,c),x=r.useRef(void 0),h=!a;function g(w){const m=x.current||c.current.getBoundingClientRect(),y=[0,m.height],b=He(y,h?[s,n]:[n,s]);return x.current=m,b(w-m.top)}return t.jsx(jo,{scope:e.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:t.jsx(No,{"data-orientation":"vertical",...p,ref:u,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const m=g(w.clientY);l==null||l(m)},onSlideMove:w=>{const m=g(w.clientY);i==null||i(m)},onSlideEnd:()=>{x.current=void 0,f==null||f()},onStepKeyDown:w=>{const y=yo[h?"from-bottom":"from-top"].includes(w.key);d==null||d({event:w,direction:y?-1:1})}})})}),No=r.forwardRef((e,o)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onHomeKeyDown:i,onEndKeyDown:f,onStepKeyDown:d,...p}=e,c=Me(se,n);return t.jsx(F.span,{...p,ref:o,onKeyDown:_(e.onKeyDown,u=>{u.key==="Home"?(i(u),u.preventDefault()):u.key==="End"?(f(u),u.preventDefault()):bo.concat(vo).includes(u.key)&&(d(u),u.preventDefault())}),onPointerDown:_(e.onPointerDown,u=>{const x=u.target;x.setPointerCapture(u.pointerId),u.preventDefault(),c.thumbs.has(x)?x.focus():s(u)}),onPointerMove:_(e.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&a(u)}),onPointerUp:_(e.onPointerUp,u=>{const x=u.target;x.hasPointerCapture(u.pointerId)&&(x.releasePointerCapture(u.pointerId),l(u))})})}),Ro="SliderTrack",To=r.forwardRef((e,o)=>{const{__scopeSlider:n,...s}=e,a=Me(Ro,n);return t.jsx(F.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:o})});To.displayName=Ro;var Oe="SliderRange",Mo=r.forwardRef((e,o)=>{const{__scopeSlider:n,...s}=e,a=Me(Oe,n),l=Co(Oe,n),i=r.useRef(null),f=K(o,i),d=a.values.length,p=a.values.map(x=>Eo(x,a.min,a.max)),c=d>1?Math.min(...p):0,u=100-Math.max(...p);return t.jsx(F.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:f,style:{...e.style,[l.startEdge]:c+"%",[l.endEdge]:u+"%"}})});Mo.displayName=Oe;var Fe="SliderThumb",_o=r.forwardRef((e,o)=>{const n=wa(e.__scopeSlider),[s,a]=r.useState(null),l=K(o,f=>a(f)),i=r.useMemo(()=>s?n().findIndex(f=>f.ref.current===s):-1,[n,s]);return t.jsx(Ra,{...e,ref:l,index:i})}),Ra=r.forwardRef((e,o)=>{const{__scopeSlider:n,index:s,name:a,...l}=e,i=Me(Fe,n),f=Co(Fe,n),[d,p]=r.useState(null),c=K(o,S=>p(S)),u=d?i.form||!!d.closest("form"):!0,x=ct(d),h=i.values[s],g=h===void 0?0:Eo(h,i.min,i.max),w=_a(s,i.values.length),m=x==null?void 0:x[f.size],y=m?Ea(m,g,f.direction):0;return r.useEffect(()=>{if(d)return i.thumbs.add(d),()=>{i.thumbs.delete(d)}},[d,i.thumbs]),t.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[f.startEdge]:`calc(${g}% + ${y}px)`},children:[t.jsx(Ae.ItemSlot,{scope:e.__scopeSlider,children:t.jsx(F.span,{role:"slider","aria-label":e["aria-label"]||w,"aria-valuemin":i.min,"aria-valuenow":h,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...l,ref:c,style:h===void 0?{display:"none"}:e.style,onFocus:_(e.onFocus,()=>{i.valueIndexToChangeRef.current=s})})}),u&&t.jsx(Io,{name:a??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:h},s)]})});_o.displayName=Fe;var Ta="RadioBubbleInput",Io=r.forwardRef(({__scopeSlider:e,value:o,...n},s)=>{const a=r.useRef(null),l=K(a,s),i=lt(o);return r.useEffect(()=>{const f=a.current;if(!f)return;const d=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==o&&c){const u=new Event("input",{bubbles:!0});c.call(f,o),f.dispatchEvent(u)}},[i,o]),t.jsx(F.input,{style:{display:"none"},...n,ref:l,defaultValue:o})});Io.displayName=Ta;function Ma(e=[],o,n){const s=[...e];return s[n]=o,s.sort((a,l)=>a-l)}function Eo(e,o,n){const l=100/(n-o)*(e-o);return dt(l,[0,100])}function _a(e,o){return o>2?`Value ${e+1} of ${o}`:o===2?["Minimum","Maximum"][e]:void 0}function Ia(e,o){if(e.length===1)return 0;const n=e.map(a=>Math.abs(a-o)),s=Math.min(...n);return n.indexOf(s)}function Ea(e,o,n){const s=e/2,l=He([0,50],[0,s]);return(s-l(o)*n)*n}function ka(e){return e.slice(0,-1).map((o,n)=>e[n+1]-o)}function Pa(e,o){if(o>0){const n=ka(e);return Math.min(...n)>=o}return!0}function He(e,o){return n=>{if(e[0]===e[1]||o[0]===o[1])return o[0];const s=(o[1]-o[0])/(e[1]-e[0]);return o[0]+s*(n-e[0])}}function Da(e){return(String(e).split(".")[1]||"").length}function Aa(e,o){const n=Math.pow(10,o);return Math.round(e*n)/n}var ko=So,Oa=To,Fa=Mo,La=_o;const oe=r.forwardRef(({className:e,...o},n)=>t.jsxs(ko,{ref:n,className:N("relative flex w-full touch-none select-none items-center",e),...o,children:[t.jsx(Oa,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:t.jsx(Fa,{className:"absolute h-full bg-primary"})}),t.jsx(La,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));oe.displayName=ko.displayName;const Ga=({cols:e,rows:o,onColsChange:n,onRowsChange:s,maxCols:a=50,maxRows:l=50})=>t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs(O,{className:"text-sm font-medium",children:["Width: ",e," tiles"]}),t.jsx(oe,{value:[e],onValueChange:i=>n(i[0]),min:1,max:a,step:1,className:"mt-2"})]}),t.jsxs("div",{children:[t.jsxs(O,{className:"text-sm font-medium",children:["Height: ",o," tiles"]}),t.jsx(oe,{value:[o],onValueChange:i=>s(i[0]),min:1,max:l,step:1,className:"mt-2"})]})]}),Ba=({tileSize:e,ppi:o,onTileSizeChange:n,onPpiChange:s,minTileSize:a=10,maxTileSize:l=100,minPpi:i=40,maxPpi:f=140})=>{const d=e/o;return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs(O,{className:"text-sm font-medium",children:["Tile Size: ",e,"px (",d.toFixed(2),"″)"]}),t.jsx(oe,{value:[e],onValueChange:p=>n(p[0]),min:a,max:l,step:1,className:"mt-2"})]}),t.jsxs("div",{children:[t.jsxs(O,{className:"text-sm font-medium",children:["PPI: ",o]}),t.jsx(oe,{value:[o],onValueChange:p=>s(p[0]),min:i,max:f,step:1,className:"mt-2"})]})]})},za=({borderWidth:e,borderColor:o,onBorderWidthChange:n,onBorderColorChange:s})=>t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs(O,{className:"text-sm font-medium",children:["Border Width: ",e,"px"]}),t.jsx(oe,{value:[e],onValueChange:a=>n(a[0]),min:0,max:10,step:1,className:"mt-2"})]}),t.jsxs("div",{children:[t.jsx(O,{className:"text-sm font-medium",children:"Border Color"}),t.jsx(at,{type:"color",value:o,onChange:a=>s(a.target.value),className:"w-full h-10 mt-2"})]})]}),Le=[{name:"Arctic",color:"#E3F2FD"},{name:"Bog",color:"#4A5D23"},{name:"Desert",color:"#F4A460"},{name:"Forest",color:"#228B22"},{name:"Hills",color:"#8FBC8F"},{name:"Jungle",color:"#006400"},{name:"Mountains",color:"#696969"},{name:"Plains",color:"#9ACD32"},{name:"Road",color:"#708090"},{name:"Woodland",color:"#32CD32"}],$a=({selectedBiome:e,onBiomeSelect:o})=>t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx(O,{className:"text-sm font-medium",children:"Biomes"}),t.jsx("div",{className:"text-xs",children:"Click a biome to activate its brush."})]}),t.jsxs("button",{className:`w-full flex items-center justify-center gap-2 px-3 py-2 rounded-md border border-gray-300 transition-colors hover:bg-gray-50 ${e===null?"bg-blue-100 ring-2 ring-blue-300":"bg-white"}`,onClick:()=>o(null),children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})}),t.jsx("span",{className:"text-xs font-medium",children:"Cursor"})]}),t.jsx("div",{className:"grid grid-cols-3 gap-1",children:Le.map(n=>t.jsxs("div",{className:`flex items-center gap-1 cursor-pointer px-2 py-1 rounded-md transition-colors hover:bg-gray-100 ${e===n.color?"bg-blue-100 ring-2 ring-blue-300":""}`,onClick:()=>o(e===n.color?null:n.color),children:[t.jsx("div",{className:"flex-shrink-0 w-4 h-4 border border-gray-300 rounded",style:{backgroundColor:n.color}}),t.jsx("span",{className:"overflow-hidden text-xs",children:n.name})]},n.name))})]}),Va=({selectedTool:e,onToolSelect:o,onZoomIn:n,onZoomOut:s,onResetView:a,onResetCanvas:l,zoomLevel:i})=>{const f=[{id:"select",icon:An,label:"Select Tool",description:"Default selection tool"}],d=[{id:"zoom-in",icon:Vn,label:"Zoom In",description:"Zoom in on the canvas",onClick:n},{id:"zoom-out",icon:Kn,label:"Zoom Out",description:"Zoom out of the canvas",onClick:s},{id:"reset-view",icon:Fn,label:"Reset View",description:"Reset pan and zoom to default",onClick:a},{id:"reset-canvas",icon:zn,label:"Reset Canvas",description:"Clear all painted tiles",onClick:l}],p=t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsx("div",{className:"mb-2 font-semibold",children:"Canvas Controls:"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Left Click:"})," Paint/Select (tool dependent)"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Right Click:"})," Erase tile"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Middle Click + Drag:"})," Pan view"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Mouse Wheel:"})," Zoom in/out"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Current Zoom:"})," ",Math.round(i*100),"%"]})]})]});return t.jsx(Ce,{delayDuration:300,children:t.jsx("div",{className:"fixed z-50 bottom-4 right-4",children:t.jsx("div",{className:"p-2 bg-white border border-gray-200 rounded-lg shadow-lg",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("div",{className:"py-1 text-xs font-medium text-center text-gray-500",children:"Tools"}),f.map(c=>{const u=c.icon;return t.jsxs(ce,{children:[t.jsx(de,{asChild:!0,children:t.jsxs(U,{variant:e===c.id?"default":"ghost",size:"icon",className:"justify-center gap-2",onClick:()=>o(c.id),children:[t.jsx(u,{className:"w-4 h-4"}),t.jsx("span",{className:"sr-only",children:c.label})]})}),t.jsx(ee,{side:"left",className:"max-w-xs",children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:c.label}),t.jsx("div",{className:"text-sm text-gray-600",children:c.description})]})})]},c.id)}),t.jsx(ve,{className:"my-2"}),t.jsx("div",{className:"py-1 text-xs font-medium text-center text-gray-500",children:"Actions"}),d.map(c=>{const u=c.icon;return t.jsxs(ce,{children:[t.jsx(de,{asChild:!0,children:t.jsxs(U,{variant:"ghost",size:"icon",className:"justify-center gap-1",onClick:c.onClick,children:[t.jsx(u,{className:"w-4 h-4"}),t.jsx("span",{className:"sr-only",children:c.label})]})}),t.jsx(ee,{side:"left",className:"max-w-xs",children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:c.label}),t.jsx("div",{className:"text-sm text-gray-600",children:c.description})]})})]},c.id)}),t.jsx(ve,{className:"my-2"}),t.jsxs(ce,{children:[t.jsx(de,{asChild:!0,children:t.jsxs(U,{variant:"ghost",size:"icon",className:"justify-center gap-1",children:[t.jsx(Nn,{className:"w-4 h-4"}),t.jsx("span",{className:"sr-only",children:"Help"})]})}),t.jsx(ee,{side:"left",className:"max-w-xs",children:p})]})]})})})})},Ha=10,Ka=200,qa=200,Ua=200,Wa=1e5,Ya=10,Za=200,Xe=.1,Je=5,Qe=(e,o,n,s,a)=>{const l=s/2;let i=0,f=0;const d=2*l,p=Math.sqrt(3)*l,u=Math.pow(l,2)-Math.pow(p/2,2),x=Math.sqrt(u);switch(e){case"square":i=o*s+a*2,f=n*s+a*2;break;case"hex-flat-odd":case"hex-flat-even":{i=a*2+(d-x)*o-x+d/2,f=a*2+p*n+p/2;break}case"hex-pointy-odd":case"hex-pointy-even":{i=a*2+p*o+p/2,f=a*2+(d-x)*n-x+d/2;break}}const h=Math.min(1,Wa/Math.max(i,f));return{rawWidth:i,rawHeight:f,scale:h,canvasWidth:Math.round(i*h),canvasHeight:Math.round(f*h)}},Xa=(e,o,n,s,a,l,i,f,d,p)=>{const c=(e-d.x)/p,u=(o-d.y)/p,x=c/f-i,h=u/f-i;if(n==="square"){const g=Math.floor(x/l),w=Math.floor(h/l);if(g>=0&&g<s&&w>=0&&w<a)return{col:g,row:w}}else{const g=n.startsWith("hex-flat"),w=n.endsWith("odd"),m=l/2,y=g?2*m:Math.sqrt(3)*m,S=g?Math.sqrt(3)*m:2*m,b=g?3/2*m:y,j=g?S:3/2*m,R=g?m:y/2,P=g?S/2:m;if(g){const I=Math.round((x-R)/b);let T=Math.round((h-P)/j);const H=I%2===(w?1:0)?S/2:0;if(T=Math.round((h-P-H)/j),I>=0&&I<s&&T>=0&&T<a)return{col:I,row:T}}else{let I=Math.round((x-R)/b);const T=Math.round((h-P)/j),H=T%2===(w?1:0)?y/2:0;if(I=Math.round((x-R-H)/b),I>=0&&I<s&&T>=0&&T<a)return{col:I,row:T}}}return null},Ja=(e,o,n,s,a,l,i=1,f="#000")=>{e.beginPath();for(let d=0;d<6;d++){const p=Math.PI/3*d+(a?0:Math.PI/6),c=o+s*Math.cos(p),u=n+s*Math.sin(p);d===0?e.moveTo(c,u):e.lineTo(c,u)}e.closePath(),l&&(e.fillStyle=l,e.fill()),i>0&&(e.lineWidth=i,e.strokeStyle=f,e.stroke())},Qa=(e,o,n,s,a,l,i)=>{var p;const f=l,d=l;for(let c=0;c<n;c++)for(let u=0;u<o;u++){const x=u*s+f,h=c*s+d,g=(p=a[c])==null?void 0:p[u];g&&(e.fillStyle=g,e.fillRect(x,h,s,s)),l>0&&(e.strokeStyle=i,e.lineWidth=l,e.strokeRect(x,h,s,s))}},er=(e,o,n,s,a,l,i,f)=>{var y;const d=o.startsWith("hex-flat"),p=o.endsWith("odd"),c=a/2,u=d?2*c:Math.sqrt(3)*c,x=d?Math.sqrt(3)*c:2*c,h=d?3/2*c:u,g=d?x:3/2*c,w=i+(d?c:u/2),m=i+(d?x/2:c);for(let S=0;S<s;S++)for(let b=0;b<n;b++){let j=w+b*h,R=m+S*g;d?b%2===(p?1:0)&&(R+=x/2):S%2===(p?1:0)&&(j+=u/2),Ja(e,j,R,c,d,((y=l[S])==null?void 0:y[b])||void 0,i,f)}},tr=()=>{const e=r.useRef(null),[o,n]=r.useState("square"),[s,a]=r.useState(20),[l,i]=r.useState(20),[f,d]=r.useState(30),[p,c]=r.useState(80),[u,x]=r.useState(1),[h,g]=r.useState("#000000"),[w,m]=r.useState([]),[y,S]=r.useState(null),[b,j]=r.useState("paint"),[R,P]=r.useState(!1),[I,T]=r.useState(!1),[H,L]=r.useState(!1),[M,B]=r.useState({x:0,y:0}),[G,q]=r.useState({x:0,y:0}),[k,D]=r.useState(1),[W,z]=r.useState(!1),[Y,Po]=r.useState(!0),{open:ae,setOpen:Do}=he();r.useEffect(()=>{if(Y){const v=be(o),C=De(v);a(C.cols),i(C.rows),d(C.tileSize),c(C.ppi),x(C.borderWidth),g(C.borderColor),Po(!1)}},[Y,o]),r.useEffect(()=>{if(!Y&&!W){const v=be(o),C=De(v);a(C.cols),i(C.rows),d(C.tileSize),c(C.ppi),x(C.borderWidth),g(C.borderColor)}},[o,W,Y]),r.useEffect(()=>{if(!Y){const v=be(o);eo(v,{cols:s,rows:l,tileSize:f,ppi:p,borderWidth:u,borderColor:h})}},[o,s,l,f,p,u,h,Y]);const Ao=v=>{z(!0),a(v)},Oo=v=>{z(!0),i(v)},Fo=v=>{z(!0),d(v)},Lo=v=>{z(!0),c(v)},Go=v=>{z(!0),x(v)},Bo=v=>{z(!0),g(v)},zo=()=>{const v=Math.min(Je,k*1.2);D(v)},$o=()=>{const v=Math.max(Xe,k*.8);D(v)},Vo=()=>{q({x:0,y:0}),D(1)},Ho=()=>{m(Array(l).fill(null).map(()=>Array(s).fill(null)))},ge=r.useCallback(()=>{const v=[];for(let C=0;C<l;C++){v[C]=[];for(let E=0;E<s;E++){const A=Le[Math.floor(Math.random()*Le.length)].color;v[C][E]=A}}m(v)},[s,l]),Ko=v=>{z(!1),c(v.ppi),d(v.tileSize),a(v.cols),i(v.rows),console.log(`Applied preset: ${v.displayName}`)},re=r.useCallback((v,C,E=y)=>{const{scale:A}=Qe(o,s,l,f,u),$=Xa(v,C,o,s,l,f,u,A,G,k);$&&m(X=>{const Z=[...X];return Z[$.row]||(Z[$.row]=[]),Z[$.row][$.col]=E,Z})},[y,o,s,l,f,u,G,k]),qo=v=>{var $;const C=($=e.current)==null?void 0:$.getBoundingClientRect();if(!C)return;const E=v.clientX-C.left,A=v.clientY-C.top;v.button===0?b==="paint"&&y?(P(!0),re(E,A)):b==="erase"?(T(!0),re(E,A,null)):b==="pan"&&(L(!0),B({x:E,y:A})):v.button===1?(v.preventDefault(),L(!0),B({x:E,y:A})):v.button===2&&(v.preventDefault(),T(!0),re(E,A,null))},Uo=v=>{var $;const C=($=e.current)==null?void 0:$.getBoundingClientRect();if(!C)return;const E=v.clientX-C.left,A=v.clientY-C.top;if(R&&y&&v.buttons===1)re(E,A);else if(I&&v.buttons===2)re(E,A,null);else if(H&&(v.buttons===4||v.buttons===1)){const X=E-M.x,Z=A-M.y;q(ie=>({x:ie.x+X,y:ie.y+Z})),B({x:E,y:A})}},Wo=v=>{v.button===0?(P(!1),L(!1)):v.button===1?L(!1):v.button===2&&T(!1)},Yo=()=>{P(!1),T(!1),L(!1)},Zo=v=>{var Z;v.preventDefault();const C=(Z=e.current)==null?void 0:Z.getBoundingClientRect();if(!C)return;const E=v.clientX-C.left,A=v.clientY-C.top,$=v.deltaY>0?.9:1.1,X=Math.max(Xe,Math.min(Je,k*$));if(X!==k){const ie=X/k;q(qe=>({x:E-(E-qe.x)*ie,y:A-(A-qe.y)*ie})),D(X)}},Xo=v=>{v.preventDefault()};r.useEffect(ge,[ge]);const Ke=r.useCallback(()=>{const v=e.current;if(!v)return;const C=v.getContext("2d");if(!C)return;const{scale:E}=Qe(o,s,l,f,u);v.width=v.clientWidth,v.height=v.clientHeight,C.clearRect(0,0,v.width,v.height),C.save(),C.translate(G.x,G.y),C.scale(k,k),E<1&&C.scale(E,E),o==="square"?Qa(C,s,l,f,w,u,h):er(C,o,s,l,f,w,u,h),C.restore()},[o,s,l,f,u,h,w,G,k]);r.useEffect(Ke,[Ke]);const Jo=()=>H||b==="pan"?{cursor:"grab"}:I||b==="erase"?{cursor:"crosshair"}:b==="select"?{cursor:"default"}:b==="paint"&&!y?{cursor:"not-allowed"}:b==="paint"&&y?{cursor:`url("data:image/svg+xml,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='10' cy='10' r='8' fill='${encodeURIComponent(y)}' stroke='%23000' stroke-width='2'/%3E%3C/svg%3E") 10 10, crosshair`}:{cursor:"default"};return t.jsx(Ce,{children:t.jsxs("div",{className:"relative flex w-full overflow-y-hidden",children:[t.jsxs("div",{className:"relative",children:[t.jsxs(_t,{className:`mt-16 transition-transform duration-300 ease-in-out ${ae?"translate-x-0":"-translate-x-full"}`,children:[t.jsxs(It,{className:"flex flex-row items-center justify-between gap-2 px-3 border-b",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Grid Controls"}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(U,{size:"icon",variant:"outline",onClick:ge,children:t.jsx(_n,{})}),t.jsx(ma,{currentGridType:o,onPresetSelect:Ko})]})]}),t.jsxs(Et,{className:"p-4 space-y-3 overflow-y-auto",children:[t.jsx(ya,{gridType:o,onGridTypeChange:n}),t.jsx(Ga,{cols:s,rows:l,onColsChange:Ao,onRowsChange:Oo,maxCols:qa,maxRows:Ua}),t.jsx(Ba,{tileSize:f,ppi:p,onTileSizeChange:Fo,onPpiChange:Lo,minTileSize:Ha,maxTileSize:Ka,minPpi:Ya,maxPpi:Za}),t.jsx(za,{borderWidth:u,borderColor:h,onBorderWidthChange:Go,onBorderColorChange:Bo}),t.jsx(U,{onClick:ge,className:"w-full",children:"Regenerate Biomes"}),t.jsx($a,{selectedBiome:y,onBiomeSelect:S})]})]}),t.jsx(U,{onClick:()=>Do(!ae),className:`fixed top-1/2 transform -translate-y-1/2 w-8 h-16 p-0 rounded-r-md rounded-l-none bg-white border hover:bg-gray-50 z-50 transition-all duration-300 ease-in-out ${ae?"left-64":"left-0"}`,style:{marginTop:"4rem"},children:ae?t.jsx(wn,{className:"w-4 h-4 text-gray-600"}):t.jsx(jn,{className:"w-4 h-4 text-gray-600"})})]}),t.jsx("div",{className:"flex-1 flex flex-col overflow-hidden transition-all duration-300 ease-in-out ml-0",children:t.jsx("div",{className:"flex items-center justify-center flex-1 overflow-hidden bg-gray-200",children:t.jsx("canvas",{ref:e,className:"w-full h-full",style:Jo(),onMouseDown:qo,onMouseMove:Uo,onMouseUp:Wo,onMouseLeave:Yo,onWheel:Zo,onContextMenu:Xo})})}),t.jsx(Va,{selectedTool:b,onToolSelect:j,onZoomIn:zo,onZoomOut:$o,onResetView:Vo,onResetCanvas:Ho,zoomLevel:k})]})})},cr=()=>t.jsx(Mt,{defaultOpen:!0,children:t.jsx(tr,{})});export{cr as default};
