import{c as U,r as s,j as a,d as N,h as Ve,e as L,i as _o,B as q,l as re}from"./index-Be6V3iPf.js";import{P as k,o as Io,p as Mo,C as He,s as Po,X as ko,q as Ke,r as qe,O as Ue,e as Q,f as _e,u as ne,h as E,t as ue,i as Do,m as Ao,I as We,j as Oo,D as Fo,a as Go,b as Lo,c as Bo,d as zo,v as $o,L as P,w as Vo}from"./label-DZsXEcRY.js";import{c as Ye,R as Ho,A as Ko,C as qo,f as Uo,e as Wo,a as Xe,u as fe,b as Ze,g as Je,d as Qe}from"./index-C6PNeUxw.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Xo=U("chevron-left",Yo);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Jo=U("chevron-right",Zo);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ea=U("circle",Qo);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],oa=U("dices",ta);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 12h18",key:"1i2n21"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]],ra=U("grid-2x2",aa);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],sa=U("monitor",na);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],la=U("panel-left",ia),ve=768;function ca(){const[e,t]=s.useState(void 0);return s.useEffect(()=>{const o=window.matchMedia(`(max-width: ${ve-1}px)`),r=()=>{t(window.innerWidth<ve)};return o.addEventListener("change",r),t(window.innerWidth<ve),()=>o.removeEventListener("change",r)},[]),!!e}var da="Separator",Ge="horizontal",ua=["horizontal","vertical"],et=s.forwardRef((e,t)=>{const{decorative:o,orientation:r=Ge,...n}=e,l=fa(r)?r:Ge,f=o?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return a.jsx(k.div,{"data-orientation":l,...f,...n,ref:t})});et.displayName=da;function fa(e){return ua.includes(e)}var tt=et;const ot=s.forwardRef(({className:e,orientation:t="horizontal",decorative:o=!0,...r},n)=>a.jsx(tt,{ref:n,decorative:o,orientation:t,className:N("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));ot.displayName=tt.displayName;const pa=Io,ma=Mo,at=s.forwardRef(({className:e,...t},o)=>a.jsx(Ue,{className:N("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:o}));at.displayName=Ue.displayName;const ha=Ve("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),rt=s.forwardRef(({side:e="right",className:t,children:o,...r},n)=>a.jsxs(ma,{children:[a.jsx(at,{}),a.jsxs(He,{ref:n,className:N(ha({side:e}),t),...r,children:[a.jsxs(Po,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(ko,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]}),o]})]}));rt.displayName=He.displayName;const nt=({className:e,...t})=>a.jsx("div",{className:N("flex flex-col space-y-2 text-center sm:text-left",e),...t});nt.displayName="SheetHeader";const st=s.forwardRef(({className:e,...t},o)=>a.jsx(Ke,{ref:o,className:N("text-lg font-semibold text-foreground",e),...t}));st.displayName=Ke.displayName;const it=s.forwardRef(({className:e,...t},o)=>a.jsx(qe,{ref:o,className:N("text-sm text-muted-foreground",e),...t}));it.displayName=qe.displayName;function Le({className:e,...t}){return a.jsx("div",{className:N("animate-pulse rounded-md bg-primary/10",e),...t})}var[pe,Sn]=Q("Tooltip",[Ye]),me=Ye(),lt="TooltipProvider",ga=700,ye="tooltip.open",[xa,Ie]=pe(lt),ct=e=>{const{__scopeTooltip:t,delayDuration:o=ga,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:l}=e,i=s.useRef(!0),f=s.useRef(!1),c=s.useRef(0);return s.useEffect(()=>{const m=c.current;return()=>window.clearTimeout(m)},[]),a.jsx(xa,{scope:t,isOpenDelayedRef:i,delayDuration:o,onOpen:s.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:s.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:f,onPointerInTransitChange:s.useCallback(m=>{f.current=m},[]),disableHoverableContent:n,children:l})};ct.displayName=lt;var ae="Tooltip",[ba,se]=pe(ae),dt=e=>{const{__scopeTooltip:t,children:o,open:r,defaultOpen:n,onOpenChange:l,disableHoverableContent:i,delayDuration:f}=e,c=Ie(ae,e.__scopeTooltip),m=me(t),[d,u]=s.useState(null),h=_e(),g=s.useRef(0),v=i??c.disableHoverableContent,y=f??c.delayDuration,p=s.useRef(!1),[b,w]=ne({prop:r,defaultProp:n??!1,onChange:M=>{M?(c.onOpen(),document.dispatchEvent(new CustomEvent(ye))):c.onClose(),l==null||l(M)},caller:ae}),x=s.useMemo(()=>b?p.current?"delayed-open":"instant-open":"closed",[b]),S=s.useCallback(()=>{window.clearTimeout(g.current),g.current=0,p.current=!1,w(!0)},[w]),R=s.useCallback(()=>{window.clearTimeout(g.current),g.current=0,w(!1)},[w]),I=s.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{p.current=!0,w(!0),g.current=0},y)},[y,w]);return s.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),a.jsx(Ho,{...m,children:a.jsx(ba,{scope:t,contentId:h,open:b,stateAttribute:x,trigger:d,onTriggerChange:u,onTriggerEnter:s.useCallback(()=>{c.isOpenDelayedRef.current?I():S()},[c.isOpenDelayedRef,I,S]),onTriggerLeave:s.useCallback(()=>{v?R():(window.clearTimeout(g.current),g.current=0)},[R,v]),onOpen:S,onClose:R,disableHoverableContent:v,children:o})})};dt.displayName=ae;var Se="TooltipTrigger",ut=s.forwardRef((e,t)=>{const{__scopeTooltip:o,...r}=e,n=se(Se,o),l=Ie(Se,o),i=me(o),f=s.useRef(null),c=L(t,f,n.onTriggerChange),m=s.useRef(!1),d=s.useRef(!1),u=s.useCallback(()=>m.current=!1,[]);return s.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),a.jsx(Ko,{asChild:!0,...i,children:a.jsx(k.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:c,onPointerMove:E(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!l.isPointerInTransitRef.current&&(n.onTriggerEnter(),d.current=!0)}),onPointerLeave:E(e.onPointerLeave,()=>{n.onTriggerLeave(),d.current=!1}),onPointerDown:E(e.onPointerDown,()=>{n.open&&n.onClose(),m.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:E(e.onFocus,()=>{m.current||n.onOpen()}),onBlur:E(e.onBlur,n.onClose),onClick:E(e.onClick,n.onClose)})})});ut.displayName=Se;var Me="TooltipPortal",[va,wa]=pe(Me,{forceMount:void 0}),ft=e=>{const{__scopeTooltip:t,forceMount:o,children:r,container:n}=e,l=se(Me,t);return a.jsx(va,{scope:t,forceMount:o,children:a.jsx(ue,{present:o||l.open,children:a.jsx(Do,{asChild:!0,container:n,children:r})})})};ft.displayName=Me;var Z="TooltipContent",pt=s.forwardRef((e,t)=>{const o=wa(Z,e.__scopeTooltip),{forceMount:r=o.forceMount,side:n="top",...l}=e,i=se(Z,e.__scopeTooltip);return a.jsx(ue,{present:r||i.open,children:i.disableHoverableContent?a.jsx(mt,{side:n,...l,ref:t}):a.jsx(ya,{side:n,...l,ref:t})})}),ya=s.forwardRef((e,t)=>{const o=se(Z,e.__scopeTooltip),r=Ie(Z,e.__scopeTooltip),n=s.useRef(null),l=L(t,n),[i,f]=s.useState(null),{trigger:c,onClose:m}=o,d=n.current,{onPointerInTransitChange:u}=r,h=s.useCallback(()=>{f(null),u(!1)},[u]),g=s.useCallback((v,y)=>{const p=v.currentTarget,b={x:v.clientX,y:v.clientY},w=Ra(b,p.getBoundingClientRect()),x=Ta(b,w),S=Ea(y.getBoundingClientRect()),R=Ia([...x,...S]);f(R),u(!0)},[u]);return s.useEffect(()=>()=>h(),[h]),s.useEffect(()=>{if(c&&d){const v=p=>g(p,d),y=p=>g(p,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",y)}}},[c,d,g,h]),s.useEffect(()=>{if(i){const v=y=>{const p=y.target,b={x:y.clientX,y:y.clientY},w=(c==null?void 0:c.contains(p))||(d==null?void 0:d.contains(p)),x=!_a(b,i);w?h():x&&(h(),m())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,i,m,h]),a.jsx(mt,{...e,ref:l})}),[Sa,Ca]=pe(ae,{isInside:!1}),Na=_o("TooltipContent"),mt=s.forwardRef((e,t)=>{const{__scopeTooltip:o,children:r,"aria-label":n,onEscapeKeyDown:l,onPointerDownOutside:i,...f}=e,c=se(Z,o),m=me(o),{onClose:d}=c;return s.useEffect(()=>(document.addEventListener(ye,d),()=>document.removeEventListener(ye,d)),[d]),s.useEffect(()=>{if(c.trigger){const u=h=>{const g=h.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[c.trigger,d]),a.jsx(Ao,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:a.jsxs(qo,{"data-state":c.stateAttribute,...m,...f,ref:t,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(Na,{children:r}),a.jsx(Sa,{scope:o,isInside:!0,children:a.jsx(Uo,{id:c.contentId,role:"tooltip",children:n||r})})]})})});pt.displayName=Z;var ht="TooltipArrow",ja=s.forwardRef((e,t)=>{const{__scopeTooltip:o,...r}=e,n=me(o);return Ca(ht,o).isInside?null:a.jsx(Wo,{...n,...r,ref:t})});ja.displayName=ht;function Ra(e,t){const o=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),n=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(o,r,n,l)){case l:return"left";case n:return"right";case o:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Ta(e,t,o=5){const r=[];switch(t){case"top":r.push({x:e.x-o,y:e.y+o},{x:e.x+o,y:e.y+o});break;case"bottom":r.push({x:e.x-o,y:e.y-o},{x:e.x+o,y:e.y-o});break;case"left":r.push({x:e.x+o,y:e.y-o},{x:e.x+o,y:e.y+o});break;case"right":r.push({x:e.x-o,y:e.y-o},{x:e.x-o,y:e.y+o});break}return r}function Ea(e){const{top:t,right:o,bottom:r,left:n}=e;return[{x:n,y:t},{x:o,y:t},{x:o,y:r},{x:n,y:r}]}function _a(e,t){const{x:o,y:r}=e;let n=!1;for(let l=0,i=t.length-1;l<t.length;i=l++){const f=t[l],c=t[i],m=f.x,d=f.y,u=c.x,h=c.y;d>r!=h>r&&o<(u-m)*(r-d)/(h-d)+m&&(n=!n)}return n}function Ia(e){const t=e.slice();return t.sort((o,r)=>o.x<r.x?-1:o.x>r.x?1:o.y<r.y?-1:o.y>r.y?1:0),Ma(t)}function Ma(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const n=e[r];for(;t.length>=2;){const l=t[t.length-1],i=t[t.length-2];if((l.x-i.x)*(n.y-i.y)>=(l.y-i.y)*(n.x-i.x))t.pop();else break}t.push(n)}t.pop();const o=[];for(let r=e.length-1;r>=0;r--){const n=e[r];for(;o.length>=2;){const l=o[o.length-1],i=o[o.length-2];if((l.x-i.x)*(n.y-i.y)>=(l.y-i.y)*(n.x-i.x))o.pop();else break}o.push(n)}return o.pop(),t.length===1&&o.length===1&&t[0].x===o[0].x&&t[0].y===o[0].y?t:t.concat(o)}var Pa=ct,ka=dt,Da=ut,Aa=ft,gt=pt;const xt=Pa,bt=ka,vt=Da,Pe=s.forwardRef(({className:e,sideOffset:t=4,...o},r)=>a.jsx(Aa,{children:a.jsx(gt,{ref:r,sideOffset:t,className:N("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...o})}));Pe.displayName=gt.displayName;const Oa="sidebar_state",Fa=60*60*24*7,Ga="16rem",La="18rem",Ba="3rem",za="b",wt=s.createContext(null);function ie(){const e=s.useContext(wt);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const yt=s.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:o,className:r,style:n,children:l,...i},f)=>{const c=ca(),[m,d]=s.useState(!1),[u,h]=s.useState(e),g=t??u,v=s.useCallback(w=>{const x=typeof w=="function"?w(g):w;o?o(x):h(x),document.cookie=`${Oa}=${x}; path=/; max-age=${Fa}`},[o,g]),y=s.useCallback(()=>c?d(w=>!w):v(w=>!w),[c,v,d]);s.useEffect(()=>{const w=x=>{x.key===za&&(x.metaKey||x.ctrlKey)&&(x.preventDefault(),y())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[y]);const p=g?"expanded":"collapsed",b=s.useMemo(()=>({state:p,open:g,setOpen:v,isMobile:c,openMobile:m,setOpenMobile:d,toggleSidebar:y}),[p,g,v,c,m,d,y]);return a.jsx(wt.Provider,{value:b,children:a.jsx(xt,{delayDuration:0,children:a.jsx("div",{style:{"--sidebar-width":Ga,"--sidebar-width-icon":Ba,...n},className:N("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:f,...i,children:l})})})});yt.displayName="SidebarProvider";const St=s.forwardRef(({side:e="left",variant:t="sidebar",collapsible:o="offcanvas",className:r,children:n,...l},i)=>{const{isMobile:f,state:c,openMobile:m,setOpenMobile:d}=ie();return o==="none"?a.jsx("div",{className:N("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:i,...l,children:n}):f?a.jsx(pa,{open:m,onOpenChange:d,...l,children:a.jsxs(rt,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":La},side:e,children:[a.jsxs(nt,{className:"sr-only",children:[a.jsx(st,{children:"Sidebar"}),a.jsx(it,{children:"Displays the mobile sidebar."})]}),a.jsx("div",{className:"flex flex-col w-full h-full",children:n})]})}):a.jsxs("div",{ref:i,className:"hidden group peer text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?o:"","data-variant":t,"data-side":e,children:[a.jsx("div",{className:N("relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),a.jsx("div",{className:N("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...l,children:a.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:n})})]})});St.displayName="Sidebar";const $a=s.forwardRef(({className:e,onClick:t,...o},r)=>{const{toggleSidebar:n}=ie();return a.jsxs(q,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:N("h-7 w-7",e),onClick:l=>{t==null||t(l),n()},...o,children:[a.jsx(la,{}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});$a.displayName="SidebarTrigger";const Va=s.forwardRef(({className:e,...t},o)=>{const{toggleSidebar:r}=ie();return a.jsx("button",{ref:o,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:N("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});Va.displayName="SidebarRail";const Ha=s.forwardRef(({className:e,...t},o)=>a.jsx("main",{ref:o,className:N("relative flex w-full flex-1 flex-col bg-background","md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));Ha.displayName="SidebarInset";const Ka=s.forwardRef(({className:e,...t},o)=>a.jsx(We,{ref:o,"data-sidebar":"input",className:N("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));Ka.displayName="SidebarInput";const Ct=s.forwardRef(({className:e,...t},o)=>a.jsx("div",{ref:o,"data-sidebar":"header",className:N("flex flex-col gap-2 p-2",e),...t}));Ct.displayName="SidebarHeader";const qa=s.forwardRef(({className:e,...t},o)=>a.jsx("div",{ref:o,"data-sidebar":"footer",className:N("flex flex-col gap-2 p-2",e),...t}));qa.displayName="SidebarFooter";const Ua=s.forwardRef(({className:e,...t},o)=>a.jsx(ot,{ref:o,"data-sidebar":"separator",className:N("mx-2 w-auto bg-sidebar-border",e),...t}));Ua.displayName="SidebarSeparator";const Nt=s.forwardRef(({className:e,...t},o)=>a.jsx("div",{ref:o,"data-sidebar":"content",className:N("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));Nt.displayName="SidebarContent";const Wa=s.forwardRef(({className:e,...t},o)=>a.jsx("div",{ref:o,"data-sidebar":"group",className:N("relative flex w-full min-w-0 flex-col p-2",e),...t}));Wa.displayName="SidebarGroup";const Ya=s.forwardRef(({className:e,asChild:t=!1,...o},r)=>{const n=t?re:"div";return a.jsx(n,{ref:r,"data-sidebar":"group-label",className:N("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...o})});Ya.displayName="SidebarGroupLabel";const Xa=s.forwardRef(({className:e,asChild:t=!1,...o},r)=>{const n=t?re:"button";return a.jsx(n,{ref:r,"data-sidebar":"group-action",className:N("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...o})});Xa.displayName="SidebarGroupAction";const Za=s.forwardRef(({className:e,...t},o)=>a.jsx("div",{ref:o,"data-sidebar":"group-content",className:N("w-full text-sm",e),...t}));Za.displayName="SidebarGroupContent";const Ja=s.forwardRef(({className:e,...t},o)=>a.jsx("ul",{ref:o,"data-sidebar":"menu",className:N("flex w-full min-w-0 flex-col gap-1",e),...t}));Ja.displayName="SidebarMenu";const Qa=s.forwardRef(({className:e,...t},o)=>a.jsx("li",{ref:o,"data-sidebar":"menu-item",className:N("group/menu-item relative",e),...t}));Qa.displayName="SidebarMenuItem";const er=Ve("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),tr=s.forwardRef(({asChild:e=!1,isActive:t=!1,variant:o="default",size:r="default",tooltip:n,className:l,...i},f)=>{const c=e?re:"button",{isMobile:m,state:d}=ie(),u=a.jsx(c,{ref:f,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:N(er({variant:o,size:r}),l),...i});return n?(typeof n=="string"&&(n={children:n}),a.jsxs(bt,{children:[a.jsx(vt,{asChild:!0,children:u}),a.jsx(Pe,{side:"right",align:"center",hidden:d!=="collapsed"||m,...n})]})):u});tr.displayName="SidebarMenuButton";const or=s.forwardRef(({className:e,asChild:t=!1,showOnHover:o=!1,...r},n)=>{const l=t?re:"button";return a.jsx(l,{ref:n,"data-sidebar":"menu-action",className:N("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",o&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});or.displayName="SidebarMenuAction";const ar=s.forwardRef(({className:e,...t},o)=>a.jsx("div",{ref:o,"data-sidebar":"menu-badge",className:N("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));ar.displayName="SidebarMenuBadge";const rr=s.forwardRef(({className:e,showIcon:t=!1,...o},r)=>{const n=s.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return a.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:N("flex h-8 items-center gap-2 rounded-md px-2",e),...o,children:[t&&a.jsx(Le,{className:"rounded-md size-4","data-sidebar":"menu-skeleton-icon"}),a.jsx(Le,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":n}})]})});rr.displayName="SidebarMenuSkeleton";const nr=s.forwardRef(({className:e,...t},o)=>a.jsx("ul",{ref:o,"data-sidebar":"menu-sub",className:N("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));nr.displayName="SidebarMenuSub";const sr=s.forwardRef(({...e},t)=>a.jsx("li",{ref:t,...e}));sr.displayName="SidebarMenuSubItem";const ir=s.forwardRef(({asChild:e=!1,size:t="md",isActive:o,className:r,...n},l)=>{const i=e?re:"a";return a.jsx(i,{ref:l,"data-sidebar":"menu-sub-button","data-size":t,"data-active":o,className:N("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...n})});ir.displayName="SidebarMenuSubButton";var we="rovingFocusGroup.onEntryFocus",lr={bubbles:!1,cancelable:!0},le="RovingFocusGroup",[Ce,jt,cr]=Xe(le),[dr,he]=Q(le,[cr]),[ur,fr]=dr(le),Rt=s.forwardRef((e,t)=>a.jsx(Ce.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Ce.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(pr,{...e,ref:t})})}));Rt.displayName=le;var pr=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,orientation:r,loop:n=!1,dir:l,currentTabStopId:i,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:c,onEntryFocus:m,preventScrollOnEntryFocus:d=!1,...u}=e,h=s.useRef(null),g=L(t,h),v=fe(l),[y,p]=ne({prop:i,defaultProp:f??null,onChange:c,caller:le}),[b,w]=s.useState(!1),x=Oo(m),S=jt(o),R=s.useRef(!1),[I,M]=s.useState(0);return s.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(we,x),()=>_.removeEventListener(we,x)},[x]),a.jsx(ur,{scope:o,orientation:r,dir:v,loop:n,currentTabStopId:y,onItemFocus:s.useCallback(_=>p(_),[p]),onItemShiftTab:s.useCallback(()=>w(!0),[]),onFocusableItemAdd:s.useCallback(()=>M(_=>_+1),[]),onFocusableItemRemove:s.useCallback(()=>M(_=>_-1),[]),children:a.jsx(k.div,{tabIndex:b||I===0?-1:0,"data-orientation":r,...u,ref:g,style:{outline:"none",...e.style},onMouseDown:E(e.onMouseDown,()=>{R.current=!0}),onFocus:E(e.onFocus,_=>{const B=!R.current;if(_.target===_.currentTarget&&B&&!b){const F=new CustomEvent(we,lr);if(_.currentTarget.dispatchEvent(F),!F.defaultPrevented){const T=S().filter(D=>D.focusable),O=T.find(D=>D.active),G=T.find(D=>D.id===y),V=[O,G,...T].filter(Boolean).map(D=>D.ref.current);_t(V,d)}}R.current=!1}),onBlur:E(e.onBlur,()=>w(!1))})})}),Tt="RovingFocusGroupItem",Et=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,focusable:r=!0,active:n=!1,tabStopId:l,children:i,...f}=e,c=_e(),m=l||c,d=fr(Tt,o),u=d.currentTabStopId===m,h=jt(o),{onFocusableItemAdd:g,onFocusableItemRemove:v,currentTabStopId:y}=d;return s.useEffect(()=>{if(r)return g(),()=>v()},[r,g,v]),a.jsx(Ce.ItemSlot,{scope:o,id:m,focusable:r,active:n,children:a.jsx(k.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...f,ref:t,onMouseDown:E(e.onMouseDown,p=>{r?d.onItemFocus(m):p.preventDefault()}),onFocus:E(e.onFocus,()=>d.onItemFocus(m)),onKeyDown:E(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){d.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const b=gr(p,d.orientation,d.dir);if(b!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let x=h().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")x.reverse();else if(b==="prev"||b==="next"){b==="prev"&&x.reverse();const S=x.indexOf(p.currentTarget);x=d.loop?xr(x,S+1):x.slice(S+1)}setTimeout(()=>_t(x))}}),children:typeof i=="function"?i({isCurrentTabStop:u,hasTabStop:y!=null}):i})})});Et.displayName=Tt;var mr={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hr(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function gr(e,t,o){const r=hr(e.key,o);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return mr[r]}function _t(e,t=!1){const o=document.activeElement;for(const r of e)if(r===o||(r.focus({preventScroll:t}),document.activeElement!==o))return}function xr(e,t){return e.map((o,r)=>e[(t+r)%e.length])}var It=Rt,Mt=Et,ke="Radio",[br,Pt]=Q(ke),[vr,wr]=br(ke),kt=s.forwardRef((e,t)=>{const{__scopeRadio:o,name:r,checked:n=!1,required:l,disabled:i,value:f="on",onCheck:c,form:m,...d}=e,[u,h]=s.useState(null),g=L(t,p=>h(p)),v=s.useRef(!1),y=u?m||!!u.closest("form"):!0;return a.jsxs(vr,{scope:o,checked:n,disabled:i,children:[a.jsx(k.button,{type:"button",role:"radio","aria-checked":n,"data-state":Ft(n),"data-disabled":i?"":void 0,disabled:i,value:f,...d,ref:g,onClick:E(e.onClick,p=>{n||c==null||c(),y&&(v.current=p.isPropagationStopped(),v.current||p.stopPropagation())})}),y&&a.jsx(Ot,{control:u,bubbles:!v.current,name:r,value:f,checked:n,required:l,disabled:i,form:m,style:{transform:"translateX(-100%)"}})]})});kt.displayName=ke;var Dt="RadioIndicator",At=s.forwardRef((e,t)=>{const{__scopeRadio:o,forceMount:r,...n}=e,l=wr(Dt,o);return a.jsx(ue,{present:r||l.checked,children:a.jsx(k.span,{"data-state":Ft(l.checked),"data-disabled":l.disabled?"":void 0,...n,ref:t})})});At.displayName=Dt;var yr="RadioBubbleInput",Ot=s.forwardRef(({__scopeRadio:e,control:t,checked:o,bubbles:r=!0,...n},l)=>{const i=s.useRef(null),f=L(i,l),c=Ze(o),m=Je(t);return s.useEffect(()=>{const d=i.current;if(!d)return;const u=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(u,"checked").set;if(c!==o&&g){const v=new Event("click",{bubbles:r});g.call(d,o),d.dispatchEvent(v)}},[c,o,r]),a.jsx(k.input,{type:"radio","aria-hidden":!0,defaultChecked:o,...n,tabIndex:-1,ref:f,style:{...n.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ot.displayName=yr;function Ft(e){return e?"checked":"unchecked"}var Sr=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ge="RadioGroup",[Cr,Cn]=Q(ge,[he,Pt]),Gt=he(),Lt=Pt(),[Nr,jr]=Cr(ge),Bt=s.forwardRef((e,t)=>{const{__scopeRadioGroup:o,name:r,defaultValue:n,value:l,required:i=!1,disabled:f=!1,orientation:c,dir:m,loop:d=!0,onValueChange:u,...h}=e,g=Gt(o),v=fe(m),[y,p]=ne({prop:l,defaultProp:n??null,onChange:u,caller:ge});return a.jsx(Nr,{scope:o,name:r,required:i,disabled:f,value:y,onValueChange:p,children:a.jsx(It,{asChild:!0,...g,orientation:c,dir:v,loop:d,children:a.jsx(k.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":f?"":void 0,dir:v,...h,ref:t})})})});Bt.displayName=ge;var zt="RadioGroupItem",$t=s.forwardRef((e,t)=>{const{__scopeRadioGroup:o,disabled:r,...n}=e,l=jr(zt,o),i=l.disabled||r,f=Gt(o),c=Lt(o),m=s.useRef(null),d=L(t,m),u=l.value===n.value,h=s.useRef(!1);return s.useEffect(()=>{const g=y=>{Sr.includes(y.key)&&(h.current=!0)},v=()=>h.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),a.jsx(Mt,{asChild:!0,...f,focusable:!i,active:u,children:a.jsx(kt,{disabled:i,required:l.required,checked:u,...c,...n,name:l.name,ref:d,onCheck:()=>l.onValueChange(n.value),onKeyDown:E(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:E(n.onFocus,()=>{var g;h.current&&((g=m.current)==null||g.click())})})})});$t.displayName=zt;var Rr="RadioGroupIndicator",Vt=s.forwardRef((e,t)=>{const{__scopeRadioGroup:o,...r}=e,n=Lt(o);return a.jsx(At,{...n,...r,ref:t})});Vt.displayName=Rr;var Ht=Bt,Kt=$t,Tr=Vt;const oe=s.forwardRef(({className:e,...t},o)=>a.jsx(Ht,{className:N("grid gap-2",e),...t,ref:o}));oe.displayName=Ht.displayName;const Y=s.forwardRef(({className:e,...t},o)=>a.jsx(Kt,{ref:o,className:N("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(Tr,{className:"flex items-center justify-center",children:a.jsx(ea,{className:"h-3.5 w-3.5 fill-primary"})})}));Y.displayName=Kt.displayName;const qt="gridConfigs",X={square:{cols:20,rows:20,tileSize:30,ppi:80,borderWidth:1,borderColor:"#000000"},"hex-flat":{cols:30,rows:25,tileSize:30,ppi:80,borderWidth:1,borderColor:"#000000"},"hex-pointy":{cols:25,rows:30,tileSize:30,ppi:80,borderWidth:1,borderColor:"#000000"}},Ut=(e,t)=>{try{const r={...Wt(),[e]:t};localStorage.setItem(qt,JSON.stringify(r))}catch(o){console.warn("Failed to save grid config:",o)}},Ne=e=>{try{return Wt()[e]||X[e]}catch(t){return console.warn("Failed to load grid config:",t),X[e]}},Wt=()=>{try{const e=localStorage.getItem(qt);if(e){const t=JSON.parse(e);return{square:{...X.square,...t.square},"hex-flat":{...X["hex-flat"],...t["hex-flat"]},"hex-pointy":{...X["hex-pointy"],...t["hex-pointy"]}}}}catch(e){console.warn("Failed to parse stored configs:",e)}return X},de=e=>e==="square"?"square":e.includes("flat")?"hex-flat":"hex-pointy",Er=[{label:'24"',inches:24},{label:'27"',inches:27},{label:'32"',inches:32},{label:'43"',inches:43},{label:'50"',inches:50},{label:'55"',inches:55},{label:'65"',inches:65},{label:'75"',inches:75},{label:'85"',inches:85}],_r=[{label:"61cm",inches:24},{label:"69cm",inches:27},{label:"81cm",inches:32},{label:"109cm",inches:43},{label:"127cm",inches:50},{label:"140cm",inches:55},{label:"165cm",inches:65},{label:"191cm",inches:75},{label:"216cm",inches:85}],Be=[{label:"1080p",width:1920,height:1080},{label:"1440p",width:2560,height:1440},{label:"4K",width:3840,height:2160},{label:"8K",width:7680,height:4320}],ze=[{label:"1 inch tiles",inches:1},{label:"2cm tiles",inches:.787}],Ir=({currentGridType:e,onPresetSelect:t})=>{const[o,r]=s.useState(!1),[n,l]=s.useState("inches"),[i,f]=s.useState("55"),[c,m]=s.useState("4K"),[d,u]=s.useState("1 inch tiles"),h=()=>{const p=parseFloat(i),b=Be.find(x=>x.label===c),w=ze.find(x=>x.label===d).inches;return{tvSize:p,resolution:b,tileSize:w}},g=(p,b,w,x)=>{let S,R;switch(x){case"square":S=Math.floor(p/w),R=Math.floor(b/w);break;case"hex-flat":S=Math.floor(p/w*1.3),R=Math.floor(b/w*1.15);break;case"hex-pointy":S=Math.floor(p/w*1.15),R=Math.floor(b/w*1.3);break}return{cols:S,rows:R}},v=()=>{const p=h(),b=Math.sqrt(p.resolution.width**2+p.resolution.height**2),w=Math.floor(b/p.tvSize),x=p.resolution.width/w,S=p.resolution.height/w,R=Math.round(p.tileSize*w),I=`${p.tvSize}" ${c} (${d})`;["square","hex-flat","hex-pointy"].forEach(T=>{const{cols:O,rows:G}=g(x,S,p.tileSize,T),K=Ne(T),V={cols:O,rows:G,tileSize:R,ppi:w,borderWidth:K.borderWidth,borderColor:K.borderColor};Ut(T,V)});const _=de(e),{cols:B,rows:F}=g(x,S,p.tileSize,_);t({ppi:w,tileSize:R,cols:B,rows:F,displayName:I}),r(!1)},y=n==="inches"?Er:_r;return a.jsx("div",{className:"space-y-3",children:a.jsx(xt,{delayDuration:0,children:a.jsxs(Fo,{open:o,onOpenChange:r,children:[a.jsxs(bt,{children:[a.jsx(vt,{asChild:!0,children:a.jsx(Go,{asChild:!0,children:a.jsx(q,{variant:"outline",size:"icon",children:a.jsx(sa,{})})})}),a.jsx(Pe,{children:a.jsx("p",{children:"Configure Display Preset"})})]}),a.jsxs(Lo,{className:"max-w-md",children:[a.jsxs(Bo,{children:[a.jsx(zo,{children:"Configure Display Preset"}),a.jsx($o,{children:"Set up your display to create optimized maps for all grid types. This will calculate and save configurations for square, hex-flat, and hex-pointy grids."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(P,{className:"text-sm font-medium",children:"Measurement Unit"}),a.jsxs(oe,{value:n,onValueChange:p=>{l(p),f(p==="inches"?"55":"140cm")},className:"flex space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Y,{value:"inches",id:"inches"}),a.jsx(P,{htmlFor:"inches",className:"text-sm",children:"Inches"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Y,{value:"cm",id:"cm"}),a.jsx(P,{htmlFor:"cm",className:"text-sm",children:"Centimeters"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(P,{className:"text-sm font-medium",children:"TV/Monitor Size"}),a.jsx(oe,{value:i,onValueChange:f,className:"grid grid-cols-3 gap-2",children:y.map(p=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Y,{value:p.inches.toString(),id:p.label}),a.jsx(P,{htmlFor:p.label,className:"text-sm",children:p.label})]},p.label))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(P,{className:"text-sm font-medium",children:"Resolution"}),a.jsx(oe,{value:c,onValueChange:m,className:"grid grid-cols-2 gap-2",children:Be.map(p=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Y,{value:p.label,id:p.label}),a.jsxs(P,{htmlFor:p.label,className:"text-sm",children:[p.label,a.jsxs("span",{className:"block text-xs text-muted-foreground",children:[p.width,"×",p.height]})]})]},p.label))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(P,{className:"text-sm font-medium",children:"Tile Size"}),a.jsx(oe,{value:d,onValueChange:u,className:"space-y-2",children:ze.map(p=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Y,{value:p.label,id:p.label}),a.jsx(P,{htmlFor:p.label,className:"text-sm",children:p.label})]},p.label))})]})]}),a.jsxs(Vo,{children:[a.jsx(q,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),a.jsx(q,{onClick:v,children:"Apply Preset"})]})]})]})})})};var xe="Tabs",[Mr,Nn]=Q(xe,[he]),Yt=he(),[Pr,De]=Mr(xe),Xt=s.forwardRef((e,t)=>{const{__scopeTabs:o,value:r,onValueChange:n,defaultValue:l,orientation:i="horizontal",dir:f,activationMode:c="automatic",...m}=e,d=fe(f),[u,h]=ne({prop:r,onChange:n,defaultProp:l??"",caller:xe});return a.jsx(Pr,{scope:o,baseId:_e(),value:u,onValueChange:h,orientation:i,dir:d,activationMode:c,children:a.jsx(k.div,{dir:d,"data-orientation":i,...m,ref:t})})});Xt.displayName=xe;var Zt="TabsList",Jt=s.forwardRef((e,t)=>{const{__scopeTabs:o,loop:r=!0,...n}=e,l=De(Zt,o),i=Yt(o);return a.jsx(It,{asChild:!0,...i,orientation:l.orientation,dir:l.dir,loop:r,children:a.jsx(k.div,{role:"tablist","aria-orientation":l.orientation,...n,ref:t})})});Jt.displayName=Zt;var Qt="TabsTrigger",eo=s.forwardRef((e,t)=>{const{__scopeTabs:o,value:r,disabled:n=!1,...l}=e,i=De(Qt,o),f=Yt(o),c=ao(i.baseId,r),m=ro(i.baseId,r),d=r===i.value;return a.jsx(Mt,{asChild:!0,...f,focusable:!n,active:d,children:a.jsx(k.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":m,"data-state":d?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:c,...l,ref:t,onMouseDown:E(e.onMouseDown,u=>{!n&&u.button===0&&u.ctrlKey===!1?i.onValueChange(r):u.preventDefault()}),onKeyDown:E(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&i.onValueChange(r)}),onFocus:E(e.onFocus,()=>{const u=i.activationMode!=="manual";!d&&!n&&u&&i.onValueChange(r)})})})});eo.displayName=Qt;var to="TabsContent",oo=s.forwardRef((e,t)=>{const{__scopeTabs:o,value:r,forceMount:n,children:l,...i}=e,f=De(to,o),c=ao(f.baseId,r),m=ro(f.baseId,r),d=r===f.value,u=s.useRef(d);return s.useEffect(()=>{const h=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(ue,{present:n||d,children:({present:h})=>a.jsx(k.div,{"data-state":d?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:m,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:h&&l})})});oo.displayName=to;function ao(e,t){return`${e}-trigger-${t}`}function ro(e,t){return`${e}-content-${t}`}var kr=Xt,no=Jt,so=eo,io=oo;const Dr=kr,lo=s.forwardRef(({className:e,...t},o)=>a.jsx(no,{ref:o,className:N("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));lo.displayName=no.displayName;const co=s.forwardRef(({className:e,...t},o)=>a.jsx(so,{ref:o,className:N("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));co.displayName=so.displayName;const Ar=s.forwardRef(({className:e,...t},o)=>a.jsx(io,{ref:o,className:N("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ar.displayName=io.displayName;const Or=[{value:"square",icon:ra,label:"Square"},{value:"hex-flat-odd",imageSrc:"/src/assets/img/hex-flat-odd.svg",label:"Flat Odd"},{value:"hex-flat-even",imageSrc:"/src/assets/img/hex-flat-even.svg",label:"Flat Even"},{value:"hex-pointy-odd",imageSrc:"/src/assets/img/hex-pointy-odd.svg",label:"Pointy Odd"},{value:"hex-pointy-even",imageSrc:"/src/assets/img/hex-pointy-even.svg",label:"Pointy Even"}],Fr=({gridType:e,onGridTypeChange:t})=>a.jsxs("div",{className:"space-y-3",children:[a.jsx(P,{className:"text-sm font-medium",children:"Grid Type"}),a.jsx(Dr,{value:e,onValueChange:o=>t(o),className:"w-full",children:a.jsx(lo,{className:"w-full gap-1 p-1",children:Or.map(o=>a.jsx(co,{value:o.value,className:"flex items-center justify-center gap-2 px-3 py-2 h-auto text-xs data-[state=active]:bg-primary data-[state=active]:text-primary-foreground w-full",children:"icon"in o?a.jsx(o.icon,{className:"flex-shrink-0 w-5 h-5"}):a.jsx("img",{src:o.imageSrc,alt:o.label,className:`flex-shrink-0 w-6 h-6 transition-all duration-200 ${e===o.value?"invert":""}`})},o.value))})})]});var uo=["PageUp","PageDown"],fo=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],po={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ee="Slider",[je,Gr,Lr]=Xe(ee),[mo,jn]=Q(ee,[Lr]),[Br,be]=mo(ee),ho=s.forwardRef((e,t)=>{const{name:o,min:r=0,max:n=100,step:l=1,orientation:i="horizontal",disabled:f=!1,minStepsBetweenThumbs:c=0,defaultValue:m=[r],value:d,onValueChange:u=()=>{},onValueCommit:h=()=>{},inverted:g=!1,form:v,...y}=e,p=s.useRef(new Set),b=s.useRef(0),x=i==="horizontal"?zr:$r,[S=[],R]=ne({prop:d,defaultProp:m,onChange:T=>{var G;(G=[...p.current][b.current])==null||G.focus(),u(T)}}),I=s.useRef(S);function M(T){const O=Ur(S,T);F(T,O)}function _(T){F(T,b.current)}function B(){const T=I.current[b.current];S[b.current]!==T&&h(S)}function F(T,O,{commit:G}={commit:!1}){const K=Zr(l),V=Jr(Math.round((T-r)/l)*l+r,K),D=Qe(V,[r,n]);R((z=[])=>{const H=Kr(z,D,O);if(Xr(H,c*l)){b.current=H.indexOf(D);const te=String(H)!==String(z);return te&&G&&h(H),te?H:z}else return z})}return a.jsx(Br,{scope:e.__scopeSlider,name:o,disabled:f,min:r,max:n,valueIndexToChangeRef:b,thumbs:p.current,values:S,orientation:i,form:v,children:a.jsx(je.Provider,{scope:e.__scopeSlider,children:a.jsx(je.Slot,{scope:e.__scopeSlider,children:a.jsx(x,{"aria-disabled":f,"data-disabled":f?"":void 0,...y,ref:t,onPointerDown:E(y.onPointerDown,()=>{f||(I.current=S)}),min:r,max:n,inverted:g,onSlideStart:f?void 0:M,onSlideMove:f?void 0:_,onSlideEnd:f?void 0:B,onHomeKeyDown:()=>!f&&F(r,0,{commit:!0}),onEndKeyDown:()=>!f&&F(n,S.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:O})=>{if(!f){const V=uo.includes(T.key)||T.shiftKey&&fo.includes(T.key)?10:1,D=b.current,z=S[D],H=l*V*O;F(z+H,D,{commit:!0})}}})})})})});ho.displayName=ee;var[go,xo]=mo(ee,{startEdge:"left",endEdge:"right",size:"width",direction:1}),zr=s.forwardRef((e,t)=>{const{min:o,max:r,dir:n,inverted:l,onSlideStart:i,onSlideMove:f,onSlideEnd:c,onStepKeyDown:m,...d}=e,[u,h]=s.useState(null),g=L(t,x=>h(x)),v=s.useRef(void 0),y=fe(n),p=y==="ltr",b=p&&!l||!p&&l;function w(x){const S=v.current||u.getBoundingClientRect(),R=[0,S.width],M=Ae(R,b?[o,r]:[r,o]);return v.current=S,M(x-S.left)}return a.jsx(go,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:a.jsx(bo,{dir:y,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const S=w(x.clientX);i==null||i(S)},onSlideMove:x=>{const S=w(x.clientX);f==null||f(S)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:x=>{const R=po[b?"from-left":"from-right"].includes(x.key);m==null||m({event:x,direction:R?-1:1})}})})}),$r=s.forwardRef((e,t)=>{const{min:o,max:r,inverted:n,onSlideStart:l,onSlideMove:i,onSlideEnd:f,onStepKeyDown:c,...m}=e,d=s.useRef(null),u=L(t,d),h=s.useRef(void 0),g=!n;function v(y){const p=h.current||d.current.getBoundingClientRect(),b=[0,p.height],x=Ae(b,g?[r,o]:[o,r]);return h.current=p,x(y-p.top)}return a.jsx(go,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:a.jsx(bo,{"data-orientation":"vertical",...m,ref:u,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const p=v(y.clientY);l==null||l(p)},onSlideMove:y=>{const p=v(y.clientY);i==null||i(p)},onSlideEnd:()=>{h.current=void 0,f==null||f()},onStepKeyDown:y=>{const b=po[g?"from-bottom":"from-top"].includes(y.key);c==null||c({event:y,direction:b?-1:1})}})})}),bo=s.forwardRef((e,t)=>{const{__scopeSlider:o,onSlideStart:r,onSlideMove:n,onSlideEnd:l,onHomeKeyDown:i,onEndKeyDown:f,onStepKeyDown:c,...m}=e,d=be(ee,o);return a.jsx(k.span,{...m,ref:t,onKeyDown:E(e.onKeyDown,u=>{u.key==="Home"?(i(u),u.preventDefault()):u.key==="End"?(f(u),u.preventDefault()):uo.concat(fo).includes(u.key)&&(c(u),u.preventDefault())}),onPointerDown:E(e.onPointerDown,u=>{const h=u.target;h.setPointerCapture(u.pointerId),u.preventDefault(),d.thumbs.has(h)?h.focus():r(u)}),onPointerMove:E(e.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&n(u)}),onPointerUp:E(e.onPointerUp,u=>{const h=u.target;h.hasPointerCapture(u.pointerId)&&(h.releasePointerCapture(u.pointerId),l(u))})})}),vo="SliderTrack",wo=s.forwardRef((e,t)=>{const{__scopeSlider:o,...r}=e,n=be(vo,o);return a.jsx(k.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...r,ref:t})});wo.displayName=vo;var Re="SliderRange",yo=s.forwardRef((e,t)=>{const{__scopeSlider:o,...r}=e,n=be(Re,o),l=xo(Re,o),i=s.useRef(null),f=L(t,i),c=n.values.length,m=n.values.map(h=>No(h,n.min,n.max)),d=c>1?Math.min(...m):0,u=100-Math.max(...m);return a.jsx(k.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...r,ref:f,style:{...e.style,[l.startEdge]:d+"%",[l.endEdge]:u+"%"}})});yo.displayName=Re;var Te="SliderThumb",So=s.forwardRef((e,t)=>{const o=Gr(e.__scopeSlider),[r,n]=s.useState(null),l=L(t,f=>n(f)),i=s.useMemo(()=>r?o().findIndex(f=>f.ref.current===r):-1,[o,r]);return a.jsx(Vr,{...e,ref:l,index:i})}),Vr=s.forwardRef((e,t)=>{const{__scopeSlider:o,index:r,name:n,...l}=e,i=be(Te,o),f=xo(Te,o),[c,m]=s.useState(null),d=L(t,w=>m(w)),u=c?i.form||!!c.closest("form"):!0,h=Je(c),g=i.values[r],v=g===void 0?0:No(g,i.min,i.max),y=qr(r,i.values.length),p=h==null?void 0:h[f.size],b=p?Wr(p,v,f.direction):0;return s.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[f.startEdge]:`calc(${v}% + ${b}px)`},children:[a.jsx(je.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(k.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":i.min,"aria-valuenow":g,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...l,ref:d,style:g===void 0?{display:"none"}:e.style,onFocus:E(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),u&&a.jsx(Co,{name:n??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:g},r)]})});So.displayName=Te;var Hr="RadioBubbleInput",Co=s.forwardRef(({__scopeSlider:e,value:t,...o},r)=>{const n=s.useRef(null),l=L(n,r),i=Ze(t);return s.useEffect(()=>{const f=n.current;if(!f)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const u=new Event("input",{bubbles:!0});d.call(f,t),f.dispatchEvent(u)}},[i,t]),a.jsx(k.input,{style:{display:"none"},...o,ref:l,defaultValue:t})});Co.displayName=Hr;function Kr(e=[],t,o){const r=[...e];return r[o]=t,r.sort((n,l)=>n-l)}function No(e,t,o){const l=100/(o-t)*(e-t);return Qe(l,[0,100])}function qr(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Ur(e,t){if(e.length===1)return 0;const o=e.map(n=>Math.abs(n-t)),r=Math.min(...o);return o.indexOf(r)}function Wr(e,t,o){const r=e/2,l=Ae([0,50],[0,r]);return(r-l(t)*o)*o}function Yr(e){return e.slice(0,-1).map((t,o)=>e[o+1]-t)}function Xr(e,t){if(t>0){const o=Yr(e);return Math.min(...o)>=t}return!0}function Ae(e,t){return o=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(o-e[0])}}function Zr(e){return(String(e).split(".")[1]||"").length}function Jr(e,t){const o=Math.pow(10,t);return Math.round(e*o)/o}var jo=ho,Qr=wo,en=yo,tn=So;const J=s.forwardRef(({className:e,...t},o)=>a.jsxs(jo,{ref:o,className:N("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(Qr,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:a.jsx(en,{className:"absolute h-full bg-primary"})}),a.jsx(tn,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));J.displayName=jo.displayName;const on=({cols:e,rows:t,onColsChange:o,onRowsChange:r,maxCols:n=50,maxRows:l=50})=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs(P,{className:"text-sm font-medium",children:["Width: ",e," tiles"]}),a.jsx(J,{value:[e],onValueChange:i=>o(i[0]),min:1,max:n,step:1,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsxs(P,{className:"text-sm font-medium",children:["Height: ",t," tiles"]}),a.jsx(J,{value:[t],onValueChange:i=>r(i[0]),min:1,max:l,step:1,className:"mt-2"})]})]}),an=({tileSize:e,ppi:t,onTileSizeChange:o,onPpiChange:r,minTileSize:n=10,maxTileSize:l=100,minPpi:i=40,maxPpi:f=140})=>{const c=e/t;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs(P,{className:"text-sm font-medium",children:["Tile Size: ",e,"px (",c.toFixed(2),"″)"]}),a.jsx(J,{value:[e],onValueChange:m=>o(m[0]),min:n,max:l,step:1,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsxs(P,{className:"text-sm font-medium",children:["PPI: ",t]}),a.jsx(J,{value:[t],onValueChange:m=>r(m[0]),min:i,max:f,step:1,className:"mt-2"})]})]})},rn=({borderWidth:e,borderColor:t,onBorderWidthChange:o,onBorderColorChange:r})=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs(P,{className:"text-sm font-medium",children:["Border Width: ",e,"px"]}),a.jsx(J,{value:[e],onValueChange:n=>o(n[0]),min:0,max:10,step:1,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(P,{className:"text-sm font-medium",children:"Border Color"}),a.jsx(We,{type:"color",value:t,onChange:n=>r(n.target.value),className:"w-full h-10 mt-2"})]})]}),Ee=[{name:"Arctic",color:"#E3F2FD"},{name:"Bog",color:"#4A5D23"},{name:"Desert",color:"#F4A460"},{name:"Forest",color:"#228B22"},{name:"Hills",color:"#8FBC8F"},{name:"Jungle",color:"#006400"},{name:"Mountains",color:"#696969"},{name:"Plains",color:"#9ACD32"},{name:"Road",color:"#708090"},{name:"Woodland",color:"#32CD32"}],nn=({selectedBiome:e,onBiomeSelect:t})=>a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(P,{className:"text-sm font-medium",children:"Biomes"}),a.jsx("div",{className:"text-xs",children:"Click a biome to activate its brush."})]}),a.jsxs("button",{className:`w-full flex items-center justify-center gap-2 px-3 py-2 rounded-md border border-gray-300 transition-colors hover:bg-gray-50 ${e===null?"bg-blue-100 ring-2 ring-blue-300":"bg-white"}`,onClick:()=>t(null),children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})}),a.jsx("span",{className:"text-xs font-medium",children:"Cursor"})]}),a.jsx("div",{className:"grid grid-cols-3 gap-1",children:Ee.map(o=>a.jsxs("div",{className:`flex items-center gap-1 cursor-pointer px-2 py-1 rounded-md transition-colors hover:bg-gray-100 ${e===o.color?"bg-blue-100 ring-2 ring-blue-300":""}`,onClick:()=>t(e===o.color?null:o.color),children:[a.jsx("div",{className:"flex-shrink-0 w-4 h-4 border border-gray-300 rounded",style:{backgroundColor:o.color}}),a.jsx("span",{className:"overflow-hidden text-xs",children:o.name})]},o.name))})]}),sn=10,ln=200,cn=200,dn=200,un=1e5,fn=10,pn=200,$e=(e,t,o,r,n)=>{const l=r/2;let i=0,f=0;const c=2*l,m=Math.sqrt(3)*l,u=Math.pow(l,2)-Math.pow(m/2,2),h=Math.sqrt(u);switch(e){case"square":i=t*r+n*2,f=o*r+n*2;break;case"hex-flat-odd":case"hex-flat-even":{i=n*2+(c-h)*t-h+c/2,f=n*2+m*o+m/2;break}case"hex-pointy-odd":case"hex-pointy-even":{i=n*2+m*t+m/2,f=n*2+(c-h)*o-h+c/2;break}}const g=Math.min(1,un/Math.max(i,f));return{rawWidth:i,rawHeight:f,scale:g,canvasWidth:Math.round(i*g),canvasHeight:Math.round(f*g)}},mn=(e,t,o,r,n,l,i,f)=>{const c=e/f-i,m=t/f-i;if(o==="square"){const d=Math.floor(c/l),u=Math.floor(m/l);if(d>=0&&d<r&&u>=0&&u<n)return{col:d,row:u}}else{const d=o.startsWith("hex-flat"),u=o.endsWith("odd"),h=l/2,g=d?2*h:Math.sqrt(3)*h,v=d?Math.sqrt(3)*h:2*h,y=d?3/2*h:g,p=d?v:3/2*h,b=d?h:g/2,w=d?v/2:h;if(d){const x=Math.round((c-b)/y);let S=Math.round((m-w)/p);const R=x%2===(u?1:0)?v/2:0;if(S=Math.round((m-w-R)/p),x>=0&&x<r&&S>=0&&S<n)return{col:x,row:S}}else{let x=Math.round((c-b)/y);const S=Math.round((m-w)/p),R=S%2===(u?1:0)?g/2:0;if(x=Math.round((c-b-R)/y),x>=0&&x<r&&S>=0&&S<n)return{col:x,row:S}}}return null},hn=(e,t,o,r,n,l,i=1,f="#000")=>{e.beginPath();for(let c=0;c<6;c++){const m=Math.PI/3*c+(n?0:Math.PI/6),d=t+r*Math.cos(m),u=o+r*Math.sin(m);c===0?e.moveTo(d,u):e.lineTo(d,u)}e.closePath(),l&&(e.fillStyle=l,e.fill()),i>0&&(e.lineWidth=i,e.strokeStyle=f,e.stroke())},gn=(e,t,o,r,n,l,i)=>{var m;const f=l,c=l;for(let d=0;d<o;d++)for(let u=0;u<t;u++){const h=u*r+f,g=d*r+c,v=(m=n[d])==null?void 0:m[u];v&&(e.fillStyle=v,e.fillRect(h,g,r,r)),l>0&&(e.strokeStyle=i,e.lineWidth=l,e.strokeRect(h,g,r,r))}},xn=(e,t,o,r,n,l,i,f)=>{var b;const c=t.startsWith("hex-flat"),m=t.endsWith("odd"),d=n/2,u=c?2*d:Math.sqrt(3)*d,h=c?Math.sqrt(3)*d:2*d,g=c?3/2*d:u,v=c?h:3/2*d,y=i+(c?d:u/2),p=i+(c?h/2:d);for(let w=0;w<r;w++)for(let x=0;x<o;x++){let S=y+x*g,R=p+w*v;c?x%2===(m?1:0)&&(R+=h/2):w%2===(m?1:0)&&(S+=u/2),hn(e,S,R,d,c,(b=l[w])==null?void 0:b[x],i,f)}},bn=()=>{const e=s.useRef(null),[t,o]=s.useState("square"),[r,n]=s.useState(20),[l,i]=s.useState(20),[f,c]=s.useState(30),[m,d]=s.useState(80),[u,h]=s.useState(1),[g,v]=s.useState("#000000"),[y,p]=s.useState([]),[b,w]=s.useState(null),[x,S]=s.useState(!1),[R,I]=s.useState(!1),[M,_]=s.useState(!0),{open:B,setOpen:F}=ie();s.useEffect(()=>{if(M){const C=de(t),j=Ne(C);n(j.cols),i(j.rows),c(j.tileSize),d(j.ppi),h(j.borderWidth),v(j.borderColor),_(!1)}},[M,t]),s.useEffect(()=>{if(!M&&!R){const C=de(t),j=Ne(C);n(j.cols),i(j.rows),c(j.tileSize),d(j.ppi),h(j.borderWidth),v(j.borderColor)}},[t,R,M]),s.useEffect(()=>{if(!M){const C=de(t);Ut(C,{cols:r,rows:l,tileSize:f,ppi:m,borderWidth:u,borderColor:g})}},[t,r,l,f,m,u,g,M]);const T=C=>{I(!0),n(C)},O=C=>{I(!0),i(C)},G=C=>{I(!0),c(C)},K=C=>{I(!0),d(C)},V=C=>{I(!0),h(C)},D=C=>{I(!0),v(C)},z=s.useCallback(()=>{const C=[];for(let j=0;j<l;j++){C[j]=[];for(let A=0;A<r;A++){const $=Ee[Math.floor(Math.random()*Ee.length)].color;C[j][A]=$}}p(C)},[r,l]),H=C=>{I(!1),d(C.ppi),c(C.tileSize),n(C.cols),i(C.rows),console.log(`Applied preset: ${C.displayName}`)},te=s.useCallback((C,j)=>{if(!b)return;const{scale:A}=$e(t,r,l,f,u),$=mn(C,j,t,r,l,f,u,A);$&&p(W=>{const ce=[...W];return ce[$.row]||(ce[$.row]=[]),ce[$.row][$.col]=b,ce})},[b,t,r,l,f,u]),Ro=C=>{var A;if(!b||C.button!==0)return;S(!0);const j=(A=e.current)==null?void 0:A.getBoundingClientRect();j&&te(C.clientX-j.left,C.clientY-j.top)},To=C=>{var A;if(!x||!b)return;const j=(A=e.current)==null?void 0:A.getBoundingClientRect();j&&te(C.clientX-j.left,C.clientY-j.top)},Oe=()=>{S(!1)};s.useEffect(z,[z]);const Fe=s.useCallback(()=>{const C=e.current;if(!C)return;const j=C.getContext("2d");if(!j)return;const{canvasWidth:A,canvasHeight:$,scale:W}=$e(t,r,l,f,u);C.width=A,C.height=$,j.clearRect(0,0,A,$),W<1&&(j.save(),j.scale(W,W)),t==="square"?gn(j,r,l,f,y,u,g):xn(j,t,r,l,f,y,u,g),W<1&&j.restore()},[t,r,l,f,u,g,y]);s.useEffect(Fe,[Fe]);const Eo=b?{cursor:`url("data:image/svg+xml,%3Csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='10' cy='10' r='8' fill='${encodeURIComponent(b)}' stroke='%23000' stroke-width='2'/%3E%3C/svg%3E") 10 10, crosshair`}:{cursor:"default"};return a.jsxs("div",{className:"relative flex w-full",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(St,{className:`mt-16 transition-transform duration-300 ease-in-out ${B?"translate-x-0":"-translate-x-full"}`,children:[a.jsxs(Ct,{className:"flex flex-row items-center justify-between gap-2 px-3 border-b",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Grid Controls"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(q,{size:"icon",variant:"outline",children:a.jsx(oa,{})}),a.jsx(Ir,{currentGridType:t,onPresetSelect:H})]})]}),a.jsxs(Nt,{className:"p-4 space-y-3 overflow-y-auto",children:[a.jsx(Fr,{gridType:t,onGridTypeChange:o}),a.jsx(on,{cols:r,rows:l,onColsChange:T,onRowsChange:O,maxCols:cn,maxRows:dn}),a.jsx(an,{tileSize:f,ppi:m,onTileSizeChange:G,onPpiChange:K,minTileSize:sn,maxTileSize:ln,minPpi:fn,maxPpi:pn}),a.jsx(rn,{borderWidth:u,borderColor:g,onBorderWidthChange:V,onBorderColorChange:D}),a.jsx(q,{onClick:z,className:"w-full",children:"Regenerate Biomes"}),a.jsx(nn,{selectedBiome:b,onBiomeSelect:w})]})]}),a.jsx(q,{onClick:()=>F(!B),className:`fixed top-1/2 transform -translate-y-1/2 w-8 h-16 p-0 rounded-r-md rounded-l-none bg-white border hover:bg-gray-50 z-50 transition-all duration-300 ease-in-out ${B?"left-64":"left-0"}`,style:{marginTop:"4rem"},children:B?a.jsx(Xo,{className:"w-4 h-4 text-gray-600"}):a.jsx(Jo,{className:"w-4 h-4 text-gray-600"})})]}),a.jsx("div",{className:"flex-1 h-full overflow-auto transition-all mr-4 duration-300 ease-in-out ml-0",children:a.jsx("div",{className:"flex items-start justify-start w-full h-full p-4",children:a.jsx("canvas",{ref:e,style:Eo,onMouseDown:Ro,onMouseMove:To,onMouseUp:Oe,onMouseLeave:Oe})})})]})},Rn=()=>a.jsx(yt,{defaultOpen:!0,children:a.jsx(bn,{})});export{Rn as default};
