import{u as p,r as i,j as e}from"./react-vendor-BkjCJ2qm.js";import{t as g}from"./vendor-BmIbm0HI.js";function d(){return e.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function j(){const{signIn:r}=p(),[s,m]=i.useState("signIn"),[o,t]=i.useState(!1),[l,n]=i.useState(!1);return e.jsxs("div",{className:"w-full max-w-sm mx-auto",children:[e.jsxs("form",{className:"flex flex-col gap-4",onSubmit:c=>{c.preventDefault(),t(!0);const u=new FormData(c.target);u.set("flow",s),r("password",u).then(()=>{t(!1)}).catch(x=>{let a="";x.message.includes("Invalid password")?a="Invalid password. Please try again.":a=s==="signIn"?"Could not sign in, did you mean to sign up?":"Could not sign up, did you mean to sign in?",g.error(a),t(!1)})},children:[e.jsx("input",{className:"auth-input-field",type:"email",name:"email",placeholder:"Email",required:!0}),e.jsx("input",{className:"auth-input-field",type:"password",name:"password",placeholder:"Password",required:!0}),e.jsx("button",{className:"auth-button",type:"submit",disabled:o,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o&&e.jsx(d,{}),s==="signIn"?"Sign in":"Sign up"]})}),e.jsxs("div",{className:"text-sm text-center text-muted-foreground",children:[e.jsx("span",{children:s==="signIn"?"Don't have an account? ":"Already have an account? "}),e.jsx("button",{type:"button",className:"font-medium cursor-pointer text-primary hover:text-primary/80 hover:underline",onClick:()=>m(s==="signIn"?"signUp":"signIn"),children:s==="signIn"?"Sign up instead":"Sign in instead"})]})]}),e.jsxs("div",{className:"flex items-center justify-center my-6",children:[e.jsx("hr",{className:"flex-1 border-border"}),e.jsx("span",{className:"mx-4 text-sm text-muted-foreground",children:"or"}),e.jsx("hr",{className:"flex-1 border-border"})]}),e.jsx("button",{className:"auth-button",disabled:l,onClick:()=>{n(!0),r("anonymous").then(()=>{n(!1)}).catch(()=>{n(!1)})},children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l&&e.jsx(d,{}),"Sign in anonymously"]})})]})}export{j as S};
