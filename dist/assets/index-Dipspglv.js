const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-DInV0oYB.js","assets/react-vendor-BkjCJ2qm.js","assets/vendor-BmIbm0HI.js","assets/convex-vendor-Cf6wy2s6.js","assets/ui-vendor-BA32w1ww.js","assets/canvas-DoKDF16Z.js","assets/PartyManager-B2dLmaRJ.js","assets/usePersistsedQuery-ptHWNzrQ.js","assets/auth-BAUFcaTu.js","assets/EncounterManager-C9YA1aYX.js","assets/select-C0T8w-w7.js","assets/WorldManager-C59SqJUN.js","assets/MapManager-C7nL-IAD.js"])))=>i.map(i=>d[i]);
import{E,u as P,j as e,r as d,F as N,H as v,J as g,K as w,U as A,N as L,Q as O,V as R,W as C,Y as S,Z as M,_ as D,$ as m,a0 as I,a1 as T,a2 as z,a3 as U}from"./react-vendor-BkjCJ2qm.js";import{b as V}from"./convex-vendor-Cf6wy2s6.js";import{S as B}from"./auth-BAUFcaTu.js";import{B as y}from"./canvas-DoKDF16Z.js";import{T as H}from"./vendor-BmIbm0HI.js";import"./ui-vendor-BA32w1ww.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))p(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&p(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function p(n){if(n.ep)return;n.ep=!0;const s=a(n);fetch(n.href,s)}})();const W="modulepreload",$=function(t){return"/"+t},j={},h=function(o,a,p){let n=Promise.resolve();if(a&&a.length>0){let i=function(l){return Promise.all(l.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),x=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));n=i(a.map(l=>{if(l=$(l),l in j)return;j[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":W,u||(c.as="script"),c.crossOrigin="",c.href=l,x&&c.setAttribute("nonce",x),document.head.appendChild(c),u)return new Promise((b,_)=>{c.addEventListener("load",b),c.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(i){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=i,window.dispatchEvent(r),!r.defaultPrevented)throw i}return n.then(i=>{for(const r of i||[])r.status==="rejected"&&s(r.reason);return o().catch(s)})},k=V;function q(){const{isAuthenticated:t}=E(),{signOut:o}=P();return t?e.jsx(y,{variant:"outline",onClick:()=>void o(),children:"Sign out"}):null}const F=d.lazy(()=>h(()=>import("./HomePage-DInV0oYB.js"),__vite__mapDeps([0,1,2,3,4,5])).then(t=>({default:t.HomePage}))),G=d.lazy(()=>h(()=>import("./PartyManager-B2dLmaRJ.js"),__vite__mapDeps([6,1,2,3,4,5,7,8])).then(t=>({default:t.PartyManager}))),K=d.lazy(()=>h(()=>import("./EncounterManager-C9YA1aYX.js"),__vite__mapDeps([9,1,2,3,4,5,7,10,8])).then(t=>({default:t.EncounterManager}))),Q=d.lazy(()=>h(()=>import("./WorldManager-C59SqJUN.js"),__vite__mapDeps([11,1,2,3,4,5,7,10,8])).then(t=>({default:t.WorldManager}))),J=d.lazy(()=>h(()=>import("./MapManager-C7nL-IAD.js"),__vite__mapDeps([12,1,2,3,4,5,7,10,8])).then(t=>({default:t.MapManager}))),Y=d.lazy(()=>h(()=>import("./canvas-DoKDF16Z.js").then(t=>t.C),__vite__mapDeps([5,1,2,3,4])).then(t=>({default:t.CanvasGrid})));function Z(){const t=g(),o=[{path:"/",icon:w,label:"Home"},{path:"/parties",icon:A,label:"Parties"},{path:"/encounters",icon:L,label:"Encounters"},{path:"/worlds",icon:O,label:"Worlds"},{path:"/maps",icon:R,label:"Maps"},{path:"/canvas",icon:C,label:"Canvas"}];return e.jsx("nav",{className:"flex items-center gap-1",children:o.map(({path:a,icon:p,label:n})=>e.jsx(S,{to:a,children:e.jsxs(y,{variant:t.pathname===a?"default":"ghost",size:"sm",className:"flex items-center gap-1.5 px-3",children:[e.jsx(p,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:n})]})},a))})}function X(){return e.jsx(N,{children:e.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[e.jsxs("header",{className:"sticky top-0 z-20 flex items-center justify-between h-16 px-4 border-b shadow-sm bg-white/80 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-primary",children:"D&D Manager"}),e.jsx(v,{children:e.jsx(Z,{})})]}),e.jsx(q,{})]}),e.jsx("main",{className:`flex-1 ${location.pathname==="/canvas"?"":"p-8"}`,children:e.jsx(ee,{})}),e.jsx(H,{})]})})}function ee(){const t=M(k.auth.loggedInUser),a=g().pathname==="/canvas";return t===void 0?e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-b-2 rounded-full animate-spin border-primary"})}):e.jsxs("div",{className:a?"":"max-w-6xl mx-auto",children:[e.jsx(v,{children:e.jsx(d.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-b-2 rounded-full animate-spin border-primary"})}),children:e.jsxs(D,{children:[e.jsx(m,{path:"/",element:e.jsx(F,{})}),e.jsx(m,{path:"/parties",element:e.jsx(G,{})}),e.jsx(m,{path:"/encounters",element:e.jsx(K,{})}),e.jsx(m,{path:"/worlds",element:e.jsx(Q,{})}),e.jsx(m,{path:"/maps",element:e.jsx(J,{})}),e.jsx(m,{path:"/canvas",element:e.jsx(Y,{})})]})})}),e.jsx(I,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"mb-4 text-5xl font-bold text-primary",children:"D&D Manager"}),e.jsx("p",{className:"mb-8 text-xl text-secondary",children:"Sign in to manage your D&D campaigns"}),e.jsx(B,{})]})})]})}const te=new T("https://first-cobra-457.convex.cloud");z.createRoot(document.getElementById("root")).render(e.jsx(U,{client:te,children:e.jsx(X,{})}));export{k as a};
